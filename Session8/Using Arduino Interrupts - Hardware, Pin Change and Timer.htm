<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) & !(IE 8)]><!-->
<html lang="en-US"><!--<![endif]--><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="p:domain_verify" content="cfe9a8eb653027916a8e54a40de70043">
<link rel="profile" href="http://gmpg.org/xfn/11">

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/universal.js"></script><script async="" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/google-analytics_analytics.js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-72768847-1');
</script>

<title>Using Arduino Interrupts - Hardware, Pin Change and Timer</title>

<!-- The SEO Framework by Sybre Waaijer -->
<meta name="description" content="Learn how to use Hardware, Pin Change and Timer Interrupts with the Arduino Uno. Perfect for building responsive user interfaces or precision timing devices.">
<meta property="og:image" content="https://i0.wp.com/dronebotworkshop.com/wp-content/uploads/2022/05/arduino-interrupts.jpg?fit=768%2C432&amp;ssl=1">
<meta property="og:image:width" content="768">
<meta property="og:image:height" content="432">
<meta property="og:image:alt" content="Arduino Interrupts">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Using Arduino Interrupts - Hardware, Pin Change and Timer">
<meta property="og:description" content="Learn how to use Hardware, Pin Change and Timer Interrupts with the Arduino Uno. Perfect for building responsive user interfaces or precision timing devices.">
<meta property="og:url" content="https://dronebotworkshop.com/interrupts/">
<meta property="og:site_name" content="DroneBot Workshop">
<meta property="og:updated_time" content="2022-05-10T12:59+00:00">
<meta property="article:published_time" content="2022-05-10T12:59+00:00">
<meta property="article:modified_time" content="2022-05-10T12:59+00:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Using Arduino Interrupts - Hardware, Pin Change and Timer">
<meta name="twitter:description" content="Learn how to use Hardware, Pin Change and Timer Interrupts with the Arduino Uno. Perfect for building responsive user interfaces or precision timing devices.">
<meta name="twitter:image" content="https://i0.wp.com/dronebotworkshop.com/wp-content/uploads/2022/05/arduino-interrupts.jpg?fit=768%2C432&amp;ssl=1">
<meta name="twitter:image:width" content="768">
<meta name="twitter:image:height" content="432">
<meta name="twitter:image:alt" content="Arduino Interrupts">
<link rel="canonical" href="https://dronebotworkshop.com/interrupts/">
<script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://dronebotworkshop.com/","name":"DroneBot Workshop | Arduino &#038; Raspberry Pi"}},{"@type":"ListItem","position":2,"item":{"@id":"https://dronebotworkshop.com/category/arduino/","name":"Arduino"}},{"@type":"ListItem","position":3,"item":{"@id":"https://dronebotworkshop.com/interrupts/","name":"Using Arduino Interrupts &#8211; Hardware, Pin Change and Timer"}}]}</script>
<!-- / The SEO Framework by Sybre Waaijer | 9.74ms meta | 3.15ms boot -->

<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://s.w.org/">
<link rel="dns-prefetch" href="https://i0.wp.com/">
<link rel="dns-prefetch" href="https://c0.wp.com/">
<script type="text/javascript">
window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/14.0.0\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/dronebotworkshop.com\/wp-includes\/js\/wp-emoji-release.min.js"}};
/*! This file is auto-generated */
!function(e,a,t){var n,r,o,i=a.createElement("canvas"),p=i.getContext&&i.getContext("2d");function s(e,t){var a=String.fromCharCode,e=(p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,e),0,0),i.toDataURL());return p.clearRect(0,0,i.width,i.height),p.fillText(a.apply(this,t),0,0),e===i.toDataURL()}function c(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(o=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},r=0;r<o.length;r++)t.supports[o[r]]=function(e){if(!p||!p.fillText)return!1;switch(p.textBaseline="top",p.font="600 32px Arial",e){case"flag":return s([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])?!1:!s([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!s([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]);case"emoji":return!s([129777,127995,8205,129778,127999],[129777,127995,8203,129778,127999])}return!1}(o[r]),t.supports.everything=t.supports.everything&&t.supports[o[r]],"flag"!==o[r]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[o[r]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(e=t.source||{}).concatemoji?c(e.concatemoji):e.wpemoji&&e.twemoji&&(c(e.twemoji),c(e.wpemoji)))}(window,document,window._wpemojiSettings);
</script><script src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wp-emoji-release.min.js" type="text/javascript" defer="defer"></script>
<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 0.07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="crayon-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/classic.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/monaco.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-block-library-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/style.min.css" type="text/css" media="all">
<style id="wp-block-library-inline-css" type="text/css">
.has-text-align-justify{text-align:justify;}
</style>
<style id="wp-block-library-theme-inline-css" type="text/css">
.wp-block-audio figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-audio figcaption{color:hsla(0,0%,100%,.65)}.wp-block-code{border:1px solid #ccc;border-radius:4px;font-family:Menlo,Consolas,monaco,monospace;padding:.8em 1em}.wp-block-embed figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-embed figcaption{color:hsla(0,0%,100%,.65)}.blocks-gallery-caption{color:#555;font-size:13px;text-align:center}.is-dark-theme .blocks-gallery-caption{color:hsla(0,0%,100%,.65)}.wp-block-image figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-image figcaption{color:hsla(0,0%,100%,.65)}.wp-block-pullquote{border-top:4px solid;border-bottom:4px solid;margin-bottom:1.75em;color:currentColor}.wp-block-pullquote__citation,.wp-block-pullquote cite,.wp-block-pullquote footer{color:currentColor;text-transform:uppercase;font-size:.8125em;font-style:normal}.wp-block-quote{border-left:.25em solid;margin:0 0 1.75em;padding-left:1em}.wp-block-quote cite,.wp-block-quote footer{color:currentColor;font-size:.8125em;position:relative;font-style:normal}.wp-block-quote.has-text-align-right{border-left:none;border-right:.25em solid;padding-left:0;padding-right:1em}.wp-block-quote.has-text-align-center{border:none;padding-left:0}.wp-block-quote.is-large,.wp-block-quote.is-style-large,.wp-block-quote.is-style-plain{border:none}.wp-block-search .wp-block-search__label{font-weight:700}:where(.wp-block-group.has-background){padding:1.25em 2.375em}.wp-block-separator.has-css-opacity{opacity:.4}.wp-block-separator{border:none;border-bottom:2px solid;margin-left:auto;margin-right:auto}.wp-block-separator.has-alpha-channel-opacity{opacity:1}.wp-block-separator:not(.is-style-wide):not(.is-style-dots){width:100px}.wp-block-separator.has-background:not(.is-style-dots){border-bottom:none;height:1px}.wp-block-separator.has-background:not(.is-style-wide):not(.is-style-dots){height:2px}.wp-block-table thead{border-bottom:3px solid}.wp-block-table tfoot{border-top:3px solid}.wp-block-table td,.wp-block-table th{padding:.5em;border:1px solid;word-break:normal}.wp-block-table figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-table figcaption{color:hsla(0,0%,100%,.65)}.wp-block-video figcaption{color:#555;font-size:13px;text-align:center}.is-dark-theme .wp-block-video figcaption{color:hsla(0,0%,100%,.65)}.wp-block-template-part.has-background{padding:1.25em 2.375em;margin-top:0;margin-bottom:0}
</style>
<link rel="stylesheet" id="mediaelement-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/mediaelementplayer-legacy.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wp-mediaelement-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wp-mediaelement.min.css" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>
<link rel="stylesheet" id="wpfp-public-style-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wpfp-public.css" type="text/css" media="all">
<link rel="stylesheet" id="toc-screen-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/screen.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wpos-slick-style-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/slick.css" type="text/css" media="all">
<link rel="stylesheet" id="wtpsw-public-style-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wtpsw-public.css" type="text/css" media="all">
<link rel="stylesheet" id="wpdiscuz-frontend-css-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/style_002.css" type="text/css" media="all">
<style id="wpdiscuz-frontend-css-inline-css" type="text/css">
 #wpdcom .wpd-blog-administrator .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-administrator .wpd-comment-author, #wpdcom .wpd-blog-administrator .wpd-comment-author a{color:#1E73BE}#wpdcom.wpd-layout-1 .wpd-comment .wpd-blog-administrator .wpd-avatar img{border-color:#1E73BE}#wpdcom.wpd-layout-2 .wpd-comment.wpd-reply .wpd-comment-wrap.wpd-blog-administrator{border-left:3px solid #1E73BE}#wpdcom.wpd-layout-2 .wpd-comment .wpd-blog-administrator .wpd-avatar img{border-bottom-color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-administrator .wpd-comment-subheader{border-top:1px dashed #1E73BE}#wpdcom.wpd-layout-3 .wpd-reply .wpd-blog-administrator .wpd-comment-right{border-left:1px solid #1E73BE}#wpdcom .wpd-blog-editor .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-editor .wpd-comment-author, #wpdcom .wpd-blog-editor .wpd-comment-author a{color:#1E73BE}#wpdcom.wpd-layout-1 .wpd-comment .wpd-blog-editor .wpd-avatar img{border-color:#1E73BE}#wpdcom.wpd-layout-2 .wpd-comment.wpd-reply .wpd-comment-wrap.wpd-blog-editor{border-left:3px solid #1E73BE}#wpdcom.wpd-layout-2 .wpd-comment .wpd-blog-editor .wpd-avatar img{border-bottom-color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-editor .wpd-comment-subheader{border-top:1px dashed #1E73BE}#wpdcom.wpd-layout-3 .wpd-reply .wpd-blog-editor .wpd-comment-right{border-left:1px solid #1E73BE}#wpdcom .wpd-blog-author .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-author .wpd-comment-author, #wpdcom .wpd-blog-author .wpd-comment-author a{color:#1E73BE}#wpdcom.wpd-layout-1 .wpd-comment .wpd-blog-author .wpd-avatar img{border-color:#1E73BE}#wpdcom.wpd-layout-2 .wpd-comment .wpd-blog-author .wpd-avatar img{border-bottom-color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-author .wpd-comment-subheader{border-top:1px dashed #1E73BE}#wpdcom.wpd-layout-3 .wpd-reply .wpd-blog-author .wpd-comment-right{border-left:1px solid #1E73BE}#wpdcom .wpd-blog-contributor .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-contributor .wpd-comment-author, #wpdcom .wpd-blog-contributor .wpd-comment-author a{color:#1E73BE}#wpdcom.wpd-layout-1 .wpd-comment .wpd-blog-contributor .wpd-avatar img{border-color:#1E73BE}#wpdcom.wpd-layout-2 .wpd-comment .wpd-blog-contributor .wpd-avatar img{border-bottom-color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-contributor .wpd-comment-subheader{border-top:1px dashed #1E73BE}#wpdcom.wpd-layout-3 .wpd-reply .wpd-blog-contributor .wpd-comment-right{border-left:1px solid #1E73BE}#wpdcom .wpd-blog-subscriber .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-subscriber .wpd-comment-author, #wpdcom .wpd-blog-subscriber .wpd-comment-author a{color:#1E73BE}#wpdcom.wpd-layout-2 .wpd-comment .wpd-blog-subscriber .wpd-avatar img{border-bottom-color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-subscriber .wpd-comment-subheader{border-top:1px dashed #1E73BE}#wpdcom .wpd-blog-post_author .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-post_author .wpd-comment-author, #wpdcom .wpd-blog-post_author .wpd-comment-author a{color:#1E73BE}#wpdcom .wpd-blog-post_author .wpd-avatar img{border-color:#1E73BE}#wpdcom.wpd-layout-1 .wpd-comment .wpd-blog-post_author .wpd-avatar img{border-color:#1E73BE}#wpdcom.wpd-layout-2 .wpd-comment.wpd-reply .wpd-comment-wrap.wpd-blog-post_author{border-left:3px solid #1E73BE}#wpdcom.wpd-layout-2 .wpd-comment .wpd-blog-post_author .wpd-avatar img{border-bottom-color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-post_author .wpd-comment-subheader{border-top:1px dashed #1E73BE}#wpdcom.wpd-layout-3 .wpd-reply .wpd-blog-post_author .wpd-comment-right{border-left:1px solid #1E73BE}#wpdcom .wpd-blog-guest .wpd-comment-label{color:#ffffff;background-color:#1E73BE;border:none}#wpdcom .wpd-blog-guest .wpd-comment-author, #wpdcom .wpd-blog-guest .wpd-comment-author a{color:#1E73BE}#wpdcom.wpd-layout-3 .wpd-blog-guest .wpd-comment-subheader{border-top:1px dashed #1E73BE}#comments, #respond, .comments-area, #wpdcom{}#wpdcom .ql-editor > *{color:#777777}#wpdcom .ql-editor::before{}#wpdcom .ql-toolbar{border:1px solid #DDDDDD;border-top:none}#wpdcom .ql-container{border:1px solid #DDDDDD;border-bottom:none}#wpdcom .wpd-form-row .wpdiscuz-item input[type="text"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="email"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="url"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="color"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="date"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="datetime"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="datetime-local"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="month"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="number"], #wpdcom .wpd-form-row .wpdiscuz-item input[type="time"], #wpdcom textarea, #wpdcom select{border:1px solid #DDDDDD;color:#777777}#wpdcom .wpd-form-row .wpdiscuz-item textarea{border:1px solid #DDDDDD}#wpdcom input::placeholder, #wpdcom textarea::placeholder, #wpdcom input::-moz-placeholder, #wpdcom textarea::-webkit-input-placeholder{}#wpdcom .wpd-comment-text{color:#777777}#wpdcom .wpd-thread-head .wpd-thread-info{border-bottom:2px solid #1E73BE}#wpdcom .wpd-thread-head .wpd-thread-info.wpd-reviews-tab svg{fill:#1E73BE}#wpdcom .wpd-thread-head .wpdiscuz-user-settings{border-bottom:2px solid #1E73BE}#wpdcom .wpd-thread-head .wpdiscuz-user-settings:hover{color:#1E73BE}#wpdcom .wpd-comment .wpd-follow-link:hover{color:#1E73BE}#wpdcom .wpd-comment-status .wpd-sticky{color:#1E73BE}#wpdcom .wpd-thread-filter .wpdf-active{color:#1E73BE;border-bottom-color:#1E73BE}#wpdcom .wpd-comment-info-bar{border:1px dashed #4b8fcb;background:#e9f1f9}#wpdcom .wpd-comment-info-bar .wpd-current-view i{color:#1E73BE}#wpdcom .wpd-filter-view-all:hover{background:#1E73BE}#wpdcom .wpdiscuz-item .wpdiscuz-rating > label{color:#DDDDDD}#wpdcom .wpdiscuz-item .wpdiscuz-rating:not(:checked) > label:hover, .wpdiscuz-rating:not(:checked) > label:hover ~ label{}#wpdcom .wpdiscuz-item .wpdiscuz-rating > input ~ label:hover, #wpdcom .wpdiscuz-item .wpdiscuz-rating > input:not(:checked) ~ label:hover ~ label, #wpdcom .wpdiscuz-item .wpdiscuz-rating > input:not(:checked) ~ label:hover ~ label{color:#FFED85}#wpdcom .wpdiscuz-item .wpdiscuz-rating > input:checked ~ label:hover, #wpdcom .wpdiscuz-item .wpdiscuz-rating > input:checked ~ label:hover, #wpdcom .wpdiscuz-item .wpdiscuz-rating > label:hover ~ input:checked ~ label, #wpdcom .wpdiscuz-item .wpdiscuz-rating > input:checked + label:hover ~ label, #wpdcom .wpdiscuz-item .wpdiscuz-rating > input:checked ~ label:hover ~ label, .wpd-custom-field .wcf-active-star, #wpdcom .wpdiscuz-item .wpdiscuz-rating > input:checked ~ label{color:#FFD700}#wpd-post-rating .wpd-rating-wrap .wpd-rating-stars svg .wpd-star{fill:#DDDDDD}#wpd-post-rating .wpd-rating-wrap .wpd-rating-stars svg .wpd-active{fill:#FFD700}#wpd-post-rating .wpd-rating-wrap .wpd-rate-starts svg .wpd-star{fill:#DDDDDD}#wpd-post-rating .wpd-rating-wrap .wpd-rate-starts:hover svg .wpd-star{fill:#FFED85}#wpd-post-rating.wpd-not-rated .wpd-rating-wrap .wpd-rate-starts svg:hover ~ svg .wpd-star{fill:#DDDDDD}.wpdiscuz-post-rating-wrap .wpd-rating .wpd-rating-wrap .wpd-rating-stars svg .wpd-star{fill:#DDDDDD}.wpdiscuz-post-rating-wrap .wpd-rating .wpd-rating-wrap .wpd-rating-stars svg .wpd-active{fill:#FFD700}#wpdcom .wpd-comment .wpd-follow-active{color:#ff7a00}#wpdcom .page-numbers{color:#555;border:#555 1px solid}#wpdcom span.current{background:#555}#wpdcom.wpd-layout-1 .wpd-new-loaded-comment > .wpd-comment-wrap > .wpd-comment-right{background:#FFFAD6}#wpdcom.wpd-layout-2 .wpd-new-loaded-comment.wpd-comment > .wpd-comment-wrap > .wpd-comment-right{background:#FFFAD6}#wpdcom.wpd-layout-2 .wpd-new-loaded-comment.wpd-comment.wpd-reply > .wpd-comment-wrap > .wpd-comment-right{background:transparent}#wpdcom.wpd-layout-2 .wpd-new-loaded-comment.wpd-comment.wpd-reply > .wpd-comment-wrap{background:#FFFAD6}#wpdcom.wpd-layout-3 .wpd-new-loaded-comment.wpd-comment > .wpd-comment-wrap > .wpd-comment-right{background:#FFFAD6}#wpdcom .wpd-follow:hover i, #wpdcom .wpd-unfollow:hover i, #wpdcom .wpd-comment .wpd-follow-active:hover i{color:#1E73BE}#wpdcom .wpdiscuz-readmore{cursor:pointer;color:#1E73BE}.wpd-custom-field .wcf-pasiv-star, #wpcomm .wpdiscuz-item .wpdiscuz-rating > label{color:#DDDDDD}.wpd-wrapper .wpd-list-item.wpd-active{border-top:3px solid #1E73BE}#wpdcom.wpd-layout-2 .wpd-comment.wpd-reply.wpd-unapproved-comment .wpd-comment-wrap{border-left:3px solid #FFFAD6}#wpdcom.wpd-layout-3 .wpd-comment.wpd-reply.wpd-unapproved-comment .wpd-comment-right{border-left:1px solid #FFFAD6}#wpdcom .wpd-prim-button{background-color:#1E73BE;color:#FFFFFF}#wpdcom .wpd_label__check i.wpdicon-on{color:#1E73BE;border:1px solid #8fb9df}#wpd-bubble-wrapper #wpd-bubble-all-comments-count{color:#1DB99A}#wpd-bubble-wrapper > div{background-color:#1DB99A}#wpd-bubble-wrapper > #wpd-bubble #wpd-bubble-add-message{background-color:#1DB99A}#wpd-bubble-wrapper > #wpd-bubble #wpd-bubble-add-message::before{border-left-color:#1DB99A;border-right-color:#1DB99A}#wpd-bubble-wrapper.wpd-right-corner > #wpd-bubble #wpd-bubble-add-message::before{border-left-color:#1DB99A;border-right-color:#1DB99A}.wpd-inline-icon-wrapper path.wpd-inline-icon-first{fill:#1DB99A}.wpd-inline-icon-count{background-color:#1DB99A}.wpd-inline-icon-count::before{border-right-color:#1DB99A}.wpd-inline-form-wrapper::before{border-bottom-color:#1DB99A}.wpd-inline-form-question{background-color:#1DB99A}.wpd-inline-form{background-color:#1DB99A}.wpd-last-inline-comments-wrapper{border-color:#1DB99A}.wpd-last-inline-comments-wrapper::before{border-bottom-color:#1DB99A}.wpd-last-inline-comments-wrapper .wpd-view-all-inline-comments{background:#1DB99A}.wpd-last-inline-comments-wrapper .wpd-view-all-inline-comments:hover,.wpd-last-inline-comments-wrapper .wpd-view-all-inline-comments:active,.wpd-last-inline-comments-wrapper .wpd-view-all-inline-comments:focus{background-color:#1DB99A}#wpdcom .ql-snow .ql-tooltip[data-mode="link"]::before{content:"Enter link:"}#wpdcom .ql-snow .ql-tooltip.ql-editing a.ql-action::after{content:"Save"}.comments-area{width:auto}
</style>
<link rel="stylesheet" id="wpdiscuz-fa-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/fa.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wpdiscuz-combo-css-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wpdiscuz-combo.min.css" type="text/css" media="all">
<link rel="stylesheet" id="wppopups-base-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wppopups-base.css" type="text/css" media="all">
<link rel="stylesheet" id="spacious_style-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/style.css" type="text/css" media="all">
<link rel="stylesheet" id="spacious-genericons-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/genericons.css" type="text/css" media="all">
<link rel="stylesheet" id="spacious-font-awesome-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/font-awesome.min.css" type="text/css" media="all">
<link rel="stylesheet" id="spacious_googlefonts-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/css.htm" type="text/css" media="all">
<link rel="stylesheet" id="rating_style-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/jquery.rating.css" type="text/css" media="all">
<link rel="stylesheet" id="bsf_style-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/style_003.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/jetpack.css" type="text/css" media="all">
<script type="text/javascript" id="jetpack_related-posts-js-extra">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/related-posts.min.js" defer="defer" onload="" id="jetpack_related-posts-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/jquery.min.js" defer="defer" onload="" id="jquery-core-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/jquery-migrate.min.js" defer="defer" onload="" id="jquery-migrate-js"></script>
<script type="text/javascript" id="crayon_js-js-extra">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/crayon.min.js" defer="defer" onload="" id="crayon_js-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/spacious-custom.js" defer="defer" onload="" id="spacious-custom-js"></script>
<!--[if lte IE 8]>
<script type='text/javascript' src='https://dronebotworkshop.com/wp-content/themes/spacious/js/html5shiv.min.js' defer onload='' id='html5-js'></script>
<![endif]-->
<script type="text/javascript" id="media-video-jwt-bridge-js-extra">
/* <![CDATA[ */
var videopressAjax = {"ajaxUrl":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","bridgeUrl":"https:\/\/dronebotworkshop.com\/wp-content\/plugins\/jetpack\/modules\/videopress\/js\/videopress-token-bridge.js","post_id":"8889"};
/* ]]> */
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/videopress-token-bridge.js" defer="defer" onload="" id="media-video-jwt-bridge-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/jquery.rating.min.js" defer="defer" onload="" id="jquery_rating-js"></script>
<link rel="https://api.w.org/" href="https://dronebotworkshop.com/wp-json/"><link rel="alternate" type="application/json" href="https://dronebotworkshop.com/wp-json/wp/v2/posts/8889"><link rel="alternate" type="application/json+oembed" href="https://dronebotworkshop.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdronebotworkshop.com%2Finterrupts%2F">
<link rel="alternate" type="text/xml+oembed" href="https://dronebotworkshop.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fdronebotworkshop.com%2Finterrupts%2F&amp;format=xml">
<script type="text/javascript">var ajaxurl = "https://dronebotworkshop.com/wp-admin/admin-ajax.php";</script><link type="text/css" rel="stylesheet" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pfp.css">
<style>img#wpstats{display:none}</style>
	<style type="text/css">.broken_link, a.broken_link {
	text-decoration: line-through;
}</style><link rel="icon" href="https://i0.wp.com/dronebotworkshop.com/wp-content/uploads/2016/01/cropped-DBWS-Robot-Square.jpg?fit=32%2C32&amp;ssl=1" sizes="32x32">
<link rel="icon" href="https://i0.wp.com/dronebotworkshop.com/wp-content/uploads/2016/01/cropped-DBWS-Robot-Square.jpg?fit=192%2C192&amp;ssl=1" sizes="192x192">
<link rel="apple-touch-icon" href="https://i0.wp.com/dronebotworkshop.com/wp-content/uploads/2016/01/cropped-DBWS-Robot-Square.jpg?fit=180%2C180&amp;ssl=1">
<meta name="msapplication-TileImage" content="https://i0.wp.com/dronebotworkshop.com/wp-content/uploads/2016/01/cropped-DBWS-Robot-Square.jpg?fit=270%2C270&amp;ssl=1">
		<style type="text/css"> blockquote { border-left: 3px solid #1e73be; }
			.spacious-button, input[type="reset"], input[type="button"], input[type="submit"], button { background-color: #1e73be; }
			.previous a:hover, .next a:hover { 	color: #1e73be; }
			a { color: #1e73be; }
			#site-title a:hover { color: #1e73be; }
			.main-navigation ul li.current_page_item a, .main-navigation ul li:hover > a { color: #1e73be; }
			.main-navigation ul li ul { border-top: 1px solid #1e73be; }
			.main-navigation ul li ul li a:hover, .main-navigation ul li ul li:hover > a, .main-navigation ul li.current-menu-item ul li a:hover, .main-navigation ul li:hover > .sub-toggle { color: #1e73be; }
			.site-header .menu-toggle:hover.entry-meta a.read-more:hover,#featured-slider .slider-read-more-button:hover,.call-to-action-button:hover,.entry-meta .read-more-link:hover,.spacious-button:hover, input[type="reset"]:hover, input[type="button"]:hover, input[type="submit"]:hover, button:hover { background: #00418c; }
			.main-small-navigation li:hover { background: #1e73be; }
			.main-small-navigation ul > .current_page_item, .main-small-navigation ul > .current-menu-item { background: #1e73be; }
			.main-navigation a:hover, .main-navigation ul li.current-menu-item a, .main-navigation ul li.current_page_ancestor a, .main-navigation ul li.current-menu-ancestor a, .main-navigation ul li.current_page_item a, .main-navigation ul li:hover > a  { color: #1e73be; }
			.small-menu a:hover, .small-menu ul li.current-menu-item a, .small-menu ul li.current_page_ancestor a, .small-menu ul li.current-menu-ancestor a, .small-menu ul li.current_page_item a, .small-menu ul li:hover > a { color: #1e73be; }
			#featured-slider .slider-read-more-button { background-color: #1e73be; }
			#controllers a:hover, #controllers a.active { background-color: #1e73be; color: #1e73be; }
			.widget_service_block a.more-link:hover, .widget_featured_single_post a.read-more:hover,#secondary a:hover,logged-in-as:hover  a,.single-page p a:hover{ color: #00418c; }
			.breadcrumb a:hover { color: #1e73be; }
			.tg-one-half .widget-title a:hover, .tg-one-third .widget-title a:hover, .tg-one-fourth .widget-title a:hover { color: #1e73be; }
			.pagination span ,.site-header .menu-toggle:hover{ background-color: #1e73be; }
			.pagination a span:hover { color: #1e73be; border-color: #1e73be; }
			.widget_testimonial .testimonial-post { border-color: #1e73be #EAEAEA #EAEAEA #EAEAEA; }
			.call-to-action-content-wrapper { border-color: #EAEAEA #EAEAEA #EAEAEA #1e73be; }
			.call-to-action-button { background-color: #1e73be; }
			#content .comments-area a.comment-permalink:hover { color: #1e73be; }
			.comments-area .comment-author-link a:hover { color: #1e73be; }
			.comments-area .comment-author-link span { background-color: #1e73be; }
			.comment .comment-reply-link:hover { color: #1e73be; }
			.nav-previous a:hover, .nav-next a:hover { color: #1e73be; }
			#wp-calendar #today { color: #1e73be; }
			.widget-title span { border-bottom: 2px solid #1e73be; }
			.footer-widgets-area a:hover { color: #1e73be !important; }
			.footer-socket-wrapper .copyright a:hover { color: #1e73be; }
			a#back-top:before { background-color: #1e73be; }
			.read-more, .more-link { color: #1e73be; }
			.post .entry-title a:hover, .page .entry-title a:hover { color: #1e73be; }
			.post .entry-meta .read-more-link { background-color: #1e73be; }
			.post .entry-meta a:hover, .type-page .entry-meta a:hover { color: #1e73be; }
			.single #content .tags a:hover { color: #1e73be; }
			.widget_testimonial .testimonial-icon:before { color: #1e73be; }
			a#scroll-up { background-color: #1e73be; }
			.search-form span { background-color: #1e73be; }.header-action .search-wrapper:hover .fa{ color: #1e73be} .spacious-woocommerce-cart-views .cart-value { background:#1e73be}.main-navigation .tg-header-button-wrap.button-one a{background-color:#1e73be} .main-navigation .tg-header-button-wrap.button-one a{border-color:#1e73be}.main-navigation .tg-header-button-wrap.button-one a:hover{background-color:#00418c}.main-navigation .tg-header-button-wrap.button-one a:hover{border-color:#00418c}</style>
		<style type="text/css" id="wp-custom-css">/*
You can add your own CSS here.

Click the help icon above to learn more.
*/


.dbwsresourcebox {
	padding:2px 6px 4px 6px; 
	color: #555555; 
	background-color: #e5efff; 
	border: #dddddd 2px solid
}

 div.wpforms-container-full .wpforms-form button[type=submit] {

background-color: #1e73be; /* Blue background color */

color: white; /* Text color */

} 

div.wpforms-container-full .wpforms-form input[type=submit]:hover, 
div.wpforms-container-full .wpforms-form input[type=submit]:active, 
div.wpforms-container-full .wpforms-form button[type=submit]:hover, 
div.wpforms-container-full .wpforms-form button[type=submit]:active, 
div.wpforms-container-full .wpforms-form .wpforms-page-button:hover, 
div.wpforms-container-full .wpforms-form .wpforms-page-button:active {
    background-color: #154360; /* Dark blue background */

}</style><!-- YouTube Embed Mods - W.J. 2017-12-27 -->
<script>

    /* Light YouTube Embeds by @labnol */
    /* Web: http://labnol.org/?p=27941 */

    document.addEventListener("DOMContentLoaded",
        function() {
            var div, n,
                v = document.getElementsByClassName("youtube-player");
            for (n = 0; n < v.length; n++) {
                div = document.createElement("div");
                div.setAttribute("data-id", v[n].dataset.id);
                div.innerHTML = labnolThumb(v[n].dataset.id);
                div.onclick = labnolIframe;
                v[n].appendChild(div);
            }
        });

    function labnolThumb(id) {
        var thumb = '<img src="https://i.ytimg.com/vi/ID/hqdefault.jpg">',
            play = '<div class="play"></div>';
        return thumb.replace("ID", id) + play;
    }

    function labnolIframe() {
        var iframe = document.createElement("iframe");
        var embed = "https://www.youtube.com/embed/ID?autoplay=1";
        iframe.setAttribute("src", embed.replace("ID", this.dataset.id));
        iframe.setAttribute("frameborder", "0");
        iframe.setAttribute("allowfullscreen", "1");
        this.parentNode.replaceChild(iframe, this);
    }

</script>
<style>
    .youtube-player {
        position: relative;
        padding-bottom: 56.23%;
        /* Use 75% for 4:3 videos */
        height: 0;
        overflow: hidden;
        max-width: 100%;
        background: #000;
        margin: 5px;
    }
    
    .youtube-player iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 100;
        background: transparent;
    }
    
    .youtube-player img {
        bottom: 0;
        display: block;
        left: 0;
        margin: auto;
        max-width: 100%;
        width: 100%;
        position: absolute;
        right: 0;
        top: 0;
        border: none;
        height: auto;
        cursor: pointer;
        -webkit-transition: .4s all;
        -moz-transition: .4s all;
        transition: .4s all;
    }
    
    .youtube-player img:hover {
        -webkit-filter: brightness(75%);
    }
    
    .youtube-player .play {
        height: 72px;
        width: 72px;
        left: 50%;
        top: 50%;
        margin-left: -36px;
        margin-top: -36px;
        position: absolute;
        background: url("//i.imgur.com/TxzC70f.png") no-repeat;
        cursor: pointer;
    }

</style>

<!-- MailerLite Universal -->
<script>
(function(m,a,i,l,e,r){ m['MailerLiteObject']=e;function f(){
var c={ a:arguments,q:[]};var r=this.push(c);return "number"!=typeof r?r:f.bind(c.q);}
f.q=f.q||[];m[e]=m[e]||f.bind(f.q);m[e].q=m[e].q||f.q;r=a.createElement(i);
var _=a.getElementsByTagName(i)[0];r.async=1;r.src=l+'?v'+(~~(new Date().getTime()/1000000));
_.parentNode.insertBefore(r,_);})(window, document, 'script', 'https://static.mailerlite.com/js/universal.js', 'ml');

var ml_account = ml('accounts', '655132', 'q8s9p5b6i3', 'load');
</script>
<!-- End MailerLite Universal -->

<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/button.min.js"></script><link rel="stylesheet" type="text/css" href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/universal.css" media="all"><script type="text/javascript" async="" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/q8s9p5b6i3_popups.js"></script></head>

<body class="post-template-default single single-post postid-8889 single-format-standard wp-embed-responsive narrow-1218 wpdiscuz_7.3.20">
<div id="page" class="hfeed site">
		<header id="masthead" class="site-header clearfix">

				<a href="https://dronebotworkshop.com/" title="DroneBot Workshop"><img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/DroneBot-Workshop-004.jpeg" class="header-image" alt="DroneBot Workshop" width="1400" height="400"></a>
	
		<div id="header-text-nav-container">
			<div class="inner-wrap">

				<div id="header-text-nav-wrap" class="clearfix">
					<div id="header-left-section">
												<div id="header-text" class="">
                                       <h3 id="site-title">
                        <a href="https://dronebotworkshop.com/" title="DroneBot Workshop" rel="home">DroneBot Workshop</a>
                     </h3>
                                                         <p id="site-description">Build your own Electronics, IoT, Drones and Robots – Welcome to the Workshop!</p>
                  <!-- #site-description -->
						</div><!-- #header-text -->
					</div><!-- #header-left-section -->
					<div id="header-right-section">
												<div id="header-right-sidebar" class="clearfix">
						<aside id="search-3" class="widget widget_search"><form action="https://dronebotworkshop.com/" class="search-form searchform clearfix" method="get">
	<div class="search-wrap">
		<input type="text" placeholder="Search" class="s field" name="s">
		<button class="search-icon" type="submit"></button>
	</div>
</form><!-- .searchform --></aside>						</div>
												<nav id="site-navigation" class="main-navigation" role="navigation">
							<h3 class="menu-toggle">Menu</h3>
							<div class="menu-dronebot-main-container"><ul id="menu-dronebot-main" class="menu nav-menu"><li id="menu-item-22" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-has-children menu-item-22"><a href="https://dronebotworkshop.com/">Home</a>
<ul class="sub-menu">
	<li id="menu-item-6215" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6215"><a href="https://dronebotworkshop.com/project/">Projects</a></li>
	<li id="menu-item-6216" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6216"><a href="https://dronebotworkshop.com/tutorials/">Tutorials</a></li>
</ul>
</li>
<li id="menu-item-132" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-132"><a href="https://dronebotworkshop.com/arduino-microcontroller/">Arduino</a></li>
<li id="menu-item-131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-131"><a href="https://dronebotworkshop.com/raspberry-pi-microcomputer/">Raspberry Pi</a></li>
<li id="menu-item-7048" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7048"><a href="https://dronebotworkshop.com/esp32-2/">ESP32</a></li>
<li id="menu-item-81" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-81"><a href="https://dronebotworkshop.com/electronics-index/">Electronics</a></li>
<li id="menu-item-83" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-83"><a href="https://dronebotworkshop.com/robots-index/">Robots</a>
<ul class="sub-menu">
	<li id="menu-item-6214" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6214"><a href="https://dronebotworkshop.com/build-a-real-robot/">Build a REAL Robot</a></li>
	<li id="menu-item-84" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-84"><a href="https://dronebotworkshop.com/drone-index/">Quadcopters</a></li>
</ul>
</li>
<li id="menu-item-6217" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6217"><a title="Visit the DroneBot Workshop Forum" target="_blank" rel="noopener" href="https://forum.dronebotworkshop.com/">Forum</a></li>
<li id="menu-item-6218" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6218"><a title="DroneBot Workshop YouTube Channel" target="_blank" rel="noopener" href="https://www.youtube.com/c/Dronebotworkshop1">YouTube</a></li>
<li id="menu-item-77" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-77"><a href="https://dronebotworkshop.com/about-dronebot-workshop/">About</a>
<ul class="sub-menu">
	<li id="menu-item-78" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-78"><a href="https://dronebotworkshop.com/about-dronebot-workshop/contact-dronebot-workshop/">Contact Us</a></li>
	<li id="menu-item-7155" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7155"><a href="https://dronebotworkshop.com/about-dronebot-workshop/faq/">Frequently Asked Questions</a></li>
	<li id="menu-item-7154" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7154"><a href="https://dronebotworkshop.com/about-dronebot-workshop/bill/">About Bill</a></li>
	<li id="menu-item-4241" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4241"><a href="https://dronebotworkshop.com/subscribe/">DroneBot Workshop Newsletter</a></li>
	<li id="menu-item-237" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-237"><a href="https://dronebotworkshop.com/about-dronebot-workshop/privacy-and-cookies/">Privacy and Cookies</a></li>
	<li id="menu-item-656" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-656"><a href="https://dronebotworkshop.com/about-dronebot-workshop/terms-of-use/">Terms of Use</a></li>
	<li id="menu-item-845" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-845"><a href="https://dronebotworkshop.com/about-dronebot-workshop/sitemap/">Sitemap</a></li>
</ul>
</li>
</ul></div>						</nav>
			    	</div><!-- #header-right-section -->

			   </div><!-- #header-text-nav-wrap -->
			</div><!-- .inner-wrap -->
		</div><!-- #header-text-nav-container -->

		
						<div class="header-post-title-container clearfix">
					<div class="inner-wrap">
						<div class="post-title-wrapper">
							                                                   <h1 class="header-post-title-class">Using Arduino Interrupts – Hardware, Pin Change and Timer</h1>
                        						   						</div>
											</div>
				</div>
				</header>
			<div id="main" class="clearfix">
		<div class="inner-wrap">

	
	<div id="primary">
		<div id="content" class="clearfix">
			
				
<article id="post-8889" class="post-8889 post type-post status-publish format-standard has-post-thumbnail hentry category-arduino category-tutorial tag-arduino-tutorial">
		<div class="entry-content clearfix">
		<!--TOC-->
<p><span style="font-weight: 400;">Today we will be learning about 
interrupts, a very important and fundamental feature of the Arduino and 
other microcontrollers.&nbsp; While we will be focusing on an Arduino 
Uno, the concepts presented here are equally valid with other boards.</span></p>
<div class="youtube-player" data-id="wIcC8-g9Lnw"><div data-id="wIcC8-g9Lnw"><img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/hqdefault.jpg"><div class="play"></div></div></div>
<p>&nbsp;</p>
<h2><span id="Introduction"><span style="font-weight: 400;">Introduction</span></span></h2>
<p><span style="font-weight: 400;">When we design a project, we usually base it upon a microcontroller. There are a lot of good reasons for doing that, among them:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Microcontrollers can handle multiple inputs and outputs.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Microcontrollers can provide precision timing pulses.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Microcontrollers are fast.</span></li>
</ul>
<p><span style="font-weight: 400;">&nbsp;</span><span style="font-weight: 400;">Because
 they can handle multiple inputs, and because they can do many things, 
microcontrollers can get quite busy. And busy microcontrollers need a 
way of managing external events, like pushbutton presses, while juggling
 other inputs and outputs timing processes.</span></p>
<p><span style="font-weight: 400;">One way of keeping control of external inputs, or internal timing events, is to use interrupts.&nbsp;&nbsp;</span></p>
<p><img class="alignnone size-full wp-image-8914" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-interrupts_003.webp" alt="Arduino Interrupts" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-interrupts_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-interrupts_004.webp 300w" sizes="(max-width: 750px) 100vw, 750px" width="750" height="422"></p>
<h3><span id="How_Interrupts_Work"><span style="font-weight: 400;">How Interrupts Work</span></span></h3>
<p><span style="font-weight: 400;">Interrupts are pretty well what the 
name implies, a method of interrupting the execution of a program in 
order to take care of something else.&nbsp;&nbsp;</span></p>
<p><span style="font-weight: 400;">Interrupts are by no means unique to 
microcontrollers, they have been used in computers and controllers for 
decades.&nbsp; When you type on a keyboard, move a mouse, or swipe on a 
touchscreen, you are creating interrupts, and these interrupts get 
services working that create the appropriate response to your actions.</span></p>
<p><span style="font-weight: 400;">In its basic form, an interrupt works like this:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">A program is running.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">An interrupt occurs.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">The program is paused, and its data is put aside so that it can resume later.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">The code related to the interrupt is run.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">When the interrupt code has finished, the program resumes where it left off.</span></li>
</ul>
<p><span style="font-weight: 400;">Interrupts are great for monitoring 
events such as switch presses or alarm triggers, which occur 
spasmodically. They are also the proper choice when you need to measure 
input pulses accurately.</span></p>
<p><span style="font-weight: 400;">There are many types of interrupts 
used with microcontrollers and microprocessors, the interrupt features 
vary from model to model.&nbsp; They can all be divided broadly into two
 categories:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><b>Hardware Interrupts</b> <b>–</b><span style="font-weight: 400;"> These usually come from external signals.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>Software Interrupts</b><span style="font-weight: 400;"> – These are internal signals, usually controlled by timers or by software-related events.</span></li>
</ul>
<p><span style="font-weight: 400;">Using interrupts will make you a 
better coder, and they are not that hard to use once you get familiar 
with them.&nbsp; Today, we will see how to use interrupts with an 
Arduino Uno.</span></p>
<h2><span id="Arduino_Uno_Interrupts"><span style="font-weight: 400;">Arduino Uno Interrupts</span></span></h2>
<p><span style="font-weight: 400;">The Arduino Uno supports three types of interrupts:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><b>Hardware Interrupts</b><span style="font-weight: 400;"> – External interrupt signals on specific pins.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>Pin Change Interrupts</b><span style="font-weight: 400;"> – External interrupts on any pin, grouped into ports.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>Timer Interrupts</b><span style="font-weight: 400;"> – Internal timer-generated interrupts, manipulated in software.</span></li>
</ul>
<p><span style="font-weight: 400;">We will discuss these in detail in a 
bit, but for now, let’s just say that they all work in basically the 
same way.&nbsp; When an interrupt event occurs, the microcontroller runs
 some code that you have placed in an “Interrupt Service Routine” or ISR
 function.</span></p>
<h3><span id="Where_Interrupts_fit_in"><span style="font-weight: 400;">Where Interrupts fit in</span></span></h3>
<p><span style="font-weight: 400;">Let’s look at how all of this fits into your Arduino sketch.</span></p>
<p><span style="font-weight: 400;">We can visualize an Arduino sketch with a simple flowchart, something like this:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8892" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-sketch-flow.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-sketch-flow_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-sketch-flow_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">The sketch starts by including libraries (if required) and defining global variables and objects.</span></p>
<p><span style="font-weight: 400;">In the Setup function, we set 
PinModes, start objects and devices, and run any one-time code that we 
want to execute when the microcontroller is started.</span></p>
<p><span style="font-weight: 400;">Then we move on to the Loop. In the 
Loop, we run the body of our code, in sequence. Once we reach the bottom
 of the Loop, we start again from the top. We remain in the Loop until 
the microcontroller is reset, at which point we are back at the Start.</span></p>
<p><span style="font-weight: 400;">Now look at the same flowchart, only this time using an interrupt:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8893" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-sketch-flow-isr_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-sketch-flow-isr.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-sketch-flow-isr_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">The execution of the sketch is 
identical to the original example, with the program remaining inside the
 Loop after running the Start and Setup procedures. But in addition, we 
have another box labeled “ISR”. This is the Interrupt Service Routine, 
and it will run whenever an interrupt event occurs.</span></p>
<p><span style="font-weight: 400;">So in our flowchart, we can see that 
the code execution branches out of the Loop and to the ISR. Once the ISR
 code is finished, the code execution is back at the Loop, in the same 
place that it branched off.</span></p>
<p><strong>The ISR is only run when an interrupt occurs.</strong></p>
<p><span style="font-weight: 400;">It is also possible to have a sketch 
that ONLY has an ISR, and does not use the Loop. In this case, nothing 
would run until an interrupt occurs. You’ll see several examples of this
 in a bit.</span></p>
<h3><span id="Interrupt_Service_Routines"><span style="font-weight: 400;">Interrupt Service Routines</span></span></h3>
<p><span style="font-weight: 400;">An Interrupt Service Routine, or ISR,
 is essentially a function. However, unlike regular Arduino functions, 
you can’t pass parameters to it, nor get any value returned from it.</span></p>
<p><span style="font-weight: 400;">Actually, ISR functions have a number
 of restrictions, most of them due to the same thing – they need to be 
fast. Very, very fast.</span></p>
<p><span style="font-weight: 400;">Think about it, you’re literally 
interrupting a microcontroller that is doing its job, and a lot of that 
job involves timing things. You can’t interrupt it for long, so there 
are many things that you can’t do within an ISR:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">You can’t use a </span><a href="https://www.arduino.cc/en/reference/delay" target="_blank" rel="noopener"><span style="font-weight: 400;">delay() function</span></a><span style="font-weight: 400;">.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Not only that, but you also can’t use the </span><a href="https://www.arduino.cc/reference/en/language/functions/time/millis/" target="_blank" rel="noopener"><span style="font-weight: 400;">millis() function</span></a><span style="font-weight: 400;">.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">No </span><a href="https://www.arduino.cc/en/reference/serial" target="_blank" rel="noopener"><span style="font-weight: 400;">Serial library</span></a><span style="font-weight: 400;">, so no printing to the serial monitor.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Only use global variables, which should be </span><a href="https://www.arduino.cc/reference/en/language/variables/variable-scope-qualifiers/volatile/" target="_blank" rel="noopener"><span style="font-weight: 400;">declared volatile</span></a><span style="font-weight: 400;">.</span></li>
</ul>
<p><span style="font-weight: 400;">Despite these restrictions, an ISR 
can perform very useful work, like changing the value of one or more 
global variables that can then be read inside the Loop.</span></p>
<p><span style="font-weight: 400;">Just remember to do that useful work as quickly as possible!</span></p>
<h2><span id="Why_use_Interrupts"><span style="font-weight: 400;">Why use Interrupts?</span></span></h2>
<p><span style="font-weight: 400;">To illustrate the value of using 
interrupts, we will run a very simple experiment that really only 
requires a pushbutton switch in addition to an Arduino. I’m also using 
an LED, but as it’s hooked to pin 13 you could forgo it and just rely 
upon the built-in LED instead.</span></p>
<p><span style="font-weight: 400;">In our experiment, we will get the 
pushbutton to act as a toggle, turning on and off the LED alternately 
with each button press.&nbsp; It’s a pretty common application, I’m sure
 you have seen it and probably have coded for it before.</span></p>
<p><span style="font-weight: 400;">Here is how we will hook it all up:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8907" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/interrupt-test-hookup_003.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/interrupt-test-hookup_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/interrupt-test-hookup.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">I used a 220-ohm dropping resistor 
for my red LED, but you could use any value from 150 to 470 ohms, and 
you can use any color of LED you like. Or just eliminate the LED and use
 the onboard one, as it is also connected to pin 13.</span></p>
<p><span style="font-weight: 400;">Now here is our equally simple sketch:</span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-631cd866e0ebb664897330" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">LED Toggle</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18px !important; line-height: 18px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">/*
  LED Toggle
  led-toggle.ino
  Use pushbutton switch to toggle LED
  
  DroneBot Workshop 2022
  https://dronebotworkshop.com
*/

// Define LED and switch connections
const byte ledPin = 13;
const byte buttonPin = 2;

// Boolean to represent toggle state

volatile bool toggleState = false;

void checkSwitch() {
  // Check status of switch
  // Toggle LED if button pressed
  
  if (digitalRead(buttonPin) == LOW) {
    // Switch was pressed
    // Slight delay to debounce
    delay(200);
    // Change state of toggle
    toggleState = !toggleState;
    // Indicate state on LED
    digitalWrite(ledPin,toggleState);
  }
}

void setup() {
  // Set LED pin as output
  pinMode(ledPin, OUTPUT);
  // Set switch pin as INPUT with pullup
  pinMode(buttonPin, INPUT_PULLUP);
}

void loop() {
  
  // Check switch
  checkSwitch();
  
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-2">2</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-4">4</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-6">6</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-8">8</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-10">10</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-12">12</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-14">14</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-16">16</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-18">18</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-20">20</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-22">22</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-24">24</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-26">26</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-28">28</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-30">30</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-32">32</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-34">34</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-36">36</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-38">38</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-40">40</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-42">42</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ebb664897330-44">44</div><div class="crayon-num" data-line="crayon-631cd866e0ebb664897330-45">45</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-631cd866e0ebb664897330-1"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-2"><span class="crayon-c">&nbsp;&nbsp;LED Toggle</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-3"><span class="crayon-c">&nbsp;&nbsp;led-toggle.ino</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-4"><span class="crayon-c">&nbsp;&nbsp;Use pushbutton switch to toggle LED</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-5"><span class="crayon-c">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-6"><span class="crayon-c">&nbsp;&nbsp;DroneBot Workshop 2022</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-7"><span class="crayon-c">&nbsp;&nbsp;https://dronebotworkshop.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-8"><span class="crayon-c">*/</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-10"><span class="crayon-c">// Define LED and switch connections</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-11"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">ledPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-12"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">buttonPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-14"><span class="crayon-c">// Boolean to represent toggle state</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-16"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-i">toggleState</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-18"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">checkSwitch</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check status of switch</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Toggle LED if button pressed</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-21"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">digitalRead</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>==<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Switch was pressed</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Slight delay to debounce</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">delay</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Change state of toggle</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">toggleState</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">!</span><span class="crayon-i">toggleState</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Indicate state on LED</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-i">toggleState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-31"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-32">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-33"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set LED pin as output</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-35"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set switch pin as INPUT with pullup</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">INPUT_PULLUP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-38"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-40"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-41"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-42"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check switch</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">checkSwitch</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ebb664897330-44"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-631cd866e0ebb664897330-45"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0049 seconds] -->
<p><span style="font-weight: 400;">We begin by declaring a couple of constant bytes for our switch and LED pins.&nbsp;&nbsp;</span></p>
<p><span style="font-weight: 400;">We also define a boolean called </span><i><span style="font-weight: 400;">togglestate</span></i><span style="font-weight: 400;">, this is what we will use to represent the current state of our toggle switch.&nbsp; This is initialized as false.</span></p>
<p><span style="font-weight: 400;">Next, we define a function called </span><i><span style="font-weight: 400;">checkSwitch</span></i><span style="font-weight: 400;">.
 It’s a pretty simple function that checks the status of the pushbutton,
 if it is pressed then it inverts the current toggle value and then uses
 it to change the status of the LED.</span></p>
<p><span style="font-weight: 400;">In the Setup, we simply set the LED 
pin to be an output and the switch pin to be an input. We use the 
internal pull-up resistor for the input.</span></p>
<p><span style="font-weight: 400;">All we do in the Loop is to call the </span><i><span style="font-weight: 400;">checkSwitch</span></i><span style="font-weight: 400;"> function, so we are always querying the switch status.</span></p>
<p><span style="font-weight: 400;">Load up the sketch and test it out. The LED should toggle on or off every time you press the switch.</span></p>
<h3><span id="Modifying_ie_Breaking_our_Sketch"><span style="font-weight: 400;">Modifying (i.e. Breaking) our Sketch</span></span></h3>
<p><span style="font-weight: 400;">Our toggle switch seems to work 
pretty well, and if all you wanted to do was to just have a toggle 
switch, then there is no reason you need to go any further.</span></p>
<p><span style="font-weight: 400;">But what if the toggle switch is just
 one component of a bigger design? Say a thermometer that used it to 
switch from Celsius to Fahrenheit. How easy would that be to build?</span></p>
<p><span style="font-weight: 400;">On the surface it seems pretty 
simple, just add the code for a DHT22 or similar sensor to the toggle 
code and use the toggle value to determine the temperature unit.</span></p>
<p><span style="font-weight: 400;">But, in practice, it can be a different story! To illustrate, let’s make one slight modification to our code:</span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-631cd866e0ec9785753209" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">LED Toggle with Delay</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18px !important; line-height: 18px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">/*
  LED Toggle with Delay
  led-toggle-delay.ino
  Use pushbutton switch to toggle LED

  DroneBot Workshop 2022
  https://dronebotworkshop.com
*/

// Define LED and switch connections
const byte ledPin = 13;
const byte buttonPin = 2;

// Boolean to represent toggle state

volatile bool toggleState = false;

void checkSwitch() {
  // Check status of switch
  // Toggle LED if button pressed

  if (digitalRead(buttonPin) == LOW) {
    // Switch was pressed
    // Slight delay to debounce
    delay(200);
    // Change state of toggle
    toggleState = !toggleState;
    // Indicate state on LED
    digitalWrite(ledPin, toggleState);
  }
}

void setup() {
  // Set LED pin as output
  pinMode(ledPin, OUTPUT);
  // Set switch pin as INPUT with pullup
  pinMode(buttonPin, INPUT_PULLUP);
  // Setup Serial Monitor
  Serial.begin(9600);
}

void loop() {
  // Check switch
  checkSwitch();

  // Add a 5-second time delay
  Serial.println("Delay Started");
  delay(5000);
  Serial.println("Delay Finished");
  Serial.println("..............");
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-2">2</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-4">4</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-6">6</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-8">8</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-10">10</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-12">12</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-14">14</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-16">16</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-18">18</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-20">20</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-22">22</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-24">24</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-26">26</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-28">28</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-30">30</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-32">32</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-34">34</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-36">36</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-38">38</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-40">40</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-42">42</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-44">44</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-46">46</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-48">48</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ec9785753209-50">50</div><div class="crayon-num" data-line="crayon-631cd866e0ec9785753209-51">51</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-631cd866e0ec9785753209-1"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-2"><span class="crayon-c">&nbsp;&nbsp;LED Toggle with Delay</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-3"><span class="crayon-c">&nbsp;&nbsp;led-toggle-delay.ino</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-4"><span class="crayon-c">&nbsp;&nbsp;Use pushbutton switch to toggle LED</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-6"><span class="crayon-c">&nbsp;&nbsp;DroneBot Workshop 2022</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-7"><span class="crayon-c">&nbsp;&nbsp;https://dronebotworkshop.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-8"><span class="crayon-c">*/</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-10"><span class="crayon-c">// Define LED and switch connections</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-11"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">ledPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-12"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">buttonPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-14"><span class="crayon-c">// Boolean to represent toggle state</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-16"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-i">toggleState</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-18"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">checkSwitch</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check status of switch</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Toggle LED if button pressed</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">digitalRead</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>==<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Switch was pressed</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Slight delay to debounce</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">delay</span><span class="crayon-sy">(</span><span class="crayon-cn">200</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Change state of toggle</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">toggleState</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">!</span><span class="crayon-i">toggleState</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Indicate state on LED</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">toggleState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-31"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-32">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-33"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set LED pin as output</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-35"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set switch pin as INPUT with pullup</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">INPUT_PULLUP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Setup Serial Monitor</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-39"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">begin</span><span class="crayon-sy">(</span><span class="crayon-cn">9600</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-40"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-42"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check switch</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">checkSwitch</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Add a 5-second time delay</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Delay Started"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">delay</span><span class="crayon-sy">(</span><span class="crayon-cn">5000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Delay Finished"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ec9785753209-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">".............."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ec9785753209-51"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0034 seconds] -->
<p><span style="font-weight: 400;">You’ll notice two differences in the modified sketch:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">We set up the serial monitor and are printing to it in the Loop.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">We have added a 5-second delay to the bottom of the Loop.</span></li>
</ul>
<p><span style="font-weight: 400;">Now, a 5-second delay is admittedly a
 silly thing to add to a sketch, but I put it in there to illustrate a 
point. It could just as easily be a reading of a DHT22, followed by a 
2-second delay while the sensor stabilizes. You get the idea, I’m adding
 a process that takes some time to complete to our Loop.</span></p>
<p><span style="font-weight: 400;">Load the sketch to the Arduino and try the switch again. I think you’ll notice a difference.</span></p>
<p><span style="font-weight: 400;">You might think that you broke it, 
but really it’s just degraded. Look at the serial monitor and observe, 
try pressing the pushbutton in that ever so brief period between delay 
events.&nbsp; You may get lucky and actually trigger the toggle.</span></p>
<p><span style="font-weight: 400;">The point I’m trying to illustrate, 
of course, is that if you have anything else in the Loop that might take
 up more than a few milliseconds of time, then polling the switch inside
 the Loop is not the best way to get a reading from it.</span></p>
<p><span style="font-weight: 400;">A better solution is to use Hardware Interrupts.</span></p>
<h2><span id="Hardware_Interrupts"><span style="font-weight: 400;">Hardware Interrupts</span></span></h2>
<p><span style="font-weight: 400;">Hardware interrupts are external 
interrupts, and on most Arduino models are limited to specific 
pins.&nbsp; These pins are configured as inputs and can trigger hardware
 interrupts by manipulating their logic state.</span></p>
<p><span style="font-weight: 400;">These are probably the most common 
types of interrupts used by microcontroller experimenters, and we have 
used them here in the DroneBot Workshop on a number of occasions as 
well.</span></p>
<h3><span id="Arduino_Hardware_Interrupt_Pins"><span style="font-weight: 400;">Arduino Hardware Interrupt Pins</span></span></h3>
<p><span style="font-weight: 400;">On the Arduino Uno there are only two pins that are hardware interrupt capable:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8896" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-hardware-interrupt-pins_003.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-hardware-interrupt-pins.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-hardware-interrupt-pins_002.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><b>Pin 2</b><span style="font-weight: 400;"> – Interrupt vector 0</span></li>
<li style="font-weight: 400;" aria-level="1"><b>Pin 3</b><span style="font-weight: 400;"> – Interrupt vector 1.</span></li>
</ul>
<p><span style="font-weight: 400;">Not all Arduino boards are limited to
 2&nbsp; Hardware Interrupt pins, some Arduino boards have many more. 
The following chart shows the number of Hardware Interrupts on several 
common Arduino boards:</span></p>
<h3><span id="Working_with_Hardware_Interrupts"><span style="font-weight: 400;">Working with Hardware Interrupts</span></span></h3>
<p><span style="font-weight: 400;">Working with Hardware Interrupts is actually pretty simple, as you really only need to do two things:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Write a function to use as your Interrupt Service Routine.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Attach the function to the specific interrupt you want to use, and specify how to trigger it.</span></li>
</ul>
<p><span style="font-weight: 400;">The ISR function should obey the 
rules about speed and using global variables, but otherwise, it’s just a
 function.&nbsp; It can have any valid name that you want, but it can’t 
have input parameters.</span></p>
<h4><span id="attachInterrupt_Function"><span style="font-weight: 400;">attachInterrupt Function</span></span></h4>
<p><img loading="lazy" class="alignnone size-full wp-image-8890" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-attachinterrupt_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-attachinterrupt.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-attachinterrupt_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">To “glue” your function to a specific interrupt, you’ll be using </span><a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/" target="_blank" rel="noopener"><span style="font-weight: 400;">the </span><i><span style="font-weight: 400;">attachInterrupt</span></i><span style="font-weight: 400;"> function</span></a><span style="font-weight: 400;">.&nbsp; This function has the following syntax and parameters:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><b>Interrupt Vector</b><span style="font-weight: 400;"> – the interrupt that you wish to use. Note that this is the internal Interrupt Vector number and NOT the pin number.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>ISR</b><span style="font-weight: 400;"> – The name of the Interrupt Service Routine function that you are gluing to the interrupt.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>Mode</b><span style="font-weight: 400;"> – How you want to trigger the interrupt.</span></li>
</ul>
<p><span style="font-weight: 400;">For Mode, there are four selections:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><b>RISING</b><span style="font-weight: 400;"> – Triggers when an input goes from LOW to HIGH.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>FALLING</b><span style="font-weight: 400;"> – Triggers when an input goes from HIGH to LOW.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>LOW</b><span style="font-weight: 400;"> – Triggered when the input stays LOW.</span></li>
<li style="font-weight: 400;" aria-level="1"><b>CHANGE </b><span style="font-weight: 400;">– Triggers whenever the input changes state from HIGH to LOW or LOW to HIGH.</span></li>
</ul>
<p><span style="font-weight: 400;">You would normally use </span><i><span style="font-weight: 400;">attachInterrupt </span></i><span style="font-weight: 400;">within the Setup function.</span></p>
<h4><span id="digitalPinToInterrupt_Function"><span style="font-weight: 400;">digitalPinToInterrupt Function</span></span></h4>
<p><span style="font-weight: 400;">The Interrupt Vector parameter in the </span><i><span style="font-weight: 400;">attachInterrupt</span></i><span style="font-weight: 400;">
 function is not the same as the pin number, and it can vary between 
Arduino boards. A (better) way of obtaining this number is with the </span><i><span style="font-weight: 400;">digitalPinToInterrupt </span></i><span style="font-weight: 400;">function.</span></p>
<p><span style="font-weight: 400;">The function’s name is also its description, it accepts a pin number and returns the Interrupt Vector number.</span></p>
<p><span style="font-weight: 400;">You can use </span><i><span style="font-weight: 400;">digitalPinToInterrupt</span></i><span style="font-weight: 400;"> directly within the </span><i><span style="font-weight: 400;">attachInterrup</span></i><span style="font-weight: 400;">t function.</span></p>
<p><b><i>attachInterrupt(digitalPinToInterrupt(</i></b><b>pin</b><b><i>),ISR,Mode)</i></b></p>
<p><span style="font-weight: 400;">This is the preferred way of coding for Hardware Interrupts, as it makes the code portable between boards.</span></p>
<h3><span id="Rewriting_our_Sketch_for_Hardware_Interrupts"><span style="font-weight: 400;">Rewriting our Sketch for Hardware Interrupts</span></span></h3>
<p><span style="font-weight: 400;">Now that we know more about using Hardware Interrupts, let’s modify our toggle and delay sketch to use them.</span></p>
<p><span style="font-weight: 400;">Here is an updated version of our sketch, using a Hardware Interrupt:</span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-631cd866e0ecd008022477" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">LED Toggle with Delay &amp; Interrupt</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18px !important; line-height: 18px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">/*
  LED Toggle with Delay &amp; Interrupt
  led-toggle-interrupt.ino
  Use pushbutton switch to toggle LED with interrupt

  DroneBot Workshop 2022
  https://dronebotworkshop.com
*/

// Define LED and switch connections
const byte ledPin = 13;
const byte buttonPin = 2;

// Boolean to represent toggle state

volatile bool toggleState = false;

void checkSwitch() {
  // Check status of switch
  // Toggle LED if button pressed

  if (digitalRead(buttonPin) == LOW) {
    // Switch was pressed
    // Change state of toggle
    toggleState = !toggleState;
    // Indicate state on LED
    digitalWrite(ledPin, toggleState);
  }
}

void setup() {
  // Set LED pin as output
  pinMode(ledPin, OUTPUT);
  // Set switch pin as INPUT with pullup
  pinMode(buttonPin, INPUT_PULLUP);

  // Attach Interrupt to Interrupt Service Routine
  attachInterrupt(digitalPinToInterrupt(buttonPin),checkSwitch, FALLING); 
}

void loop() {
  
  // 5-second time delay
  Serial.println("Delay Started");
  delay(5000);
  Serial.println("Delay Finished");
  Serial.println("..............");
}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-2">2</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-4">4</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-6">6</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-8">8</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-10">10</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-12">12</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-14">14</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-16">16</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-18">18</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-20">20</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-22">22</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-24">24</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-26">26</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-28">28</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-30">30</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-32">32</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-34">34</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-36">36</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-38">38</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-40">40</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-42">42</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-44">44</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-46">46</div><div class="crayon-num" data-line="crayon-631cd866e0ecd008022477-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ecd008022477-48">48</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-631cd866e0ecd008022477-1"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-2"><span class="crayon-c">&nbsp;&nbsp;LED Toggle with Delay &amp; Interrupt</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-3"><span class="crayon-c">&nbsp;&nbsp;led-toggle-interrupt.ino</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-4"><span class="crayon-c">&nbsp;&nbsp;Use pushbutton switch to toggle LED with interrupt</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-6"><span class="crayon-c">&nbsp;&nbsp;DroneBot Workshop 2022</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-7"><span class="crayon-c">&nbsp;&nbsp;https://dronebotworkshop.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-8"><span class="crayon-c">*/</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-10"><span class="crayon-c">// Define LED and switch connections</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-11"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">ledPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-12"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">buttonPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-13">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-14"><span class="crayon-c">// Boolean to represent toggle state</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-16"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-i">toggleState</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-18"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">checkSwitch</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-19"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check status of switch</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Toggle LED if button pressed</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-21">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-22"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">digitalRead</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>==<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Switch was pressed</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Change state of toggle</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">toggleState</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">!</span><span class="crayon-i">toggleState</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Indicate state on LED</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">toggleState</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-29"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-30">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-31"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set LED pin as output</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set switch pin as INPUT with pullup</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-35"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">INPUT_PULLUP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-36">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Attach Interrupt to Interrupt Service Routine</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-38"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">attachInterrupt</span><span class="crayon-sy">(</span><span class="crayon-e">digitalPinToInterrupt</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-i">checkSwitch</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">FALLING</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-39"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-40">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-41"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-42"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// 5-second time delay</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Delay Started"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-45"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">delay</span><span class="crayon-sy">(</span><span class="crayon-cn">5000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">"Delay Finished"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ecd008022477-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">Serial</span><span class="crayon-sy">.</span><span class="crayon-e">println</span><span class="crayon-sy">(</span><span class="crayon-s">".............."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ecd008022477-48"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0056 seconds] -->
<p><span style="font-weight: 400;">We begin similarly, by declaring the pin numbers for our LED and switch.&nbsp; We also use the same boolean for our toggle.</span></p>
<p><span style="font-weight: 400;">Note that the boolean is made 
volatile. This is important, as its value is being manipulated within 
the Interrupt Service Routine. Without the volatile statement, the 
Arduino IDE compiler may try and over-optimize the code and remove the 
variable.</span></p>
<p><span style="font-weight: 400;">Our </span><i><span style="font-weight: 400;">checkSwitch</span></i><span style="font-weight: 400;"> function is almost identical to what it was before, the only difference is that we have removed the </span><i><span style="font-weight: 400;">delay</span></i><span style="font-weight: 400;"> function. This is because we will be using</span><i><span style="font-weight: 400;"> checkSwitch</span></i><span style="font-weight: 400;"> as our Interrupt Service Routine, and we can’t use a </span><i><span style="font-weight: 400;">delay</span></i><span style="font-weight: 400;"> inside an ISR.</span></p>
<p><span style="font-weight: 400;">In Setup we do the usual </span><i><span style="font-weight: 400;">pinMode</span></i><span style="font-weight: 400;"> commands, initialize the serial monitor, and then run </span><i><span style="font-weight: 400;">attachInterrupt</span></i><span style="font-weight: 400;"> to attach the </span><i><span style="font-weight: 400;">checkSwitch</span></i><span style="font-weight: 400;">
 function to the Hardware Interrupt on pin 2. We use a FALLING mode, as 
we want to capture when we press (and ground) the switch.</span></p>
<p><span style="font-weight: 400;">All that we have in the Loop is the 
delay, which will now run continuously. Any switch activity will now be 
handled by the interrupt.</span></p>
<p><span style="font-weight: 400;">Load the sketch and play with the 
pushbutton while you observe both the LED and serial monitor. You should
 see that the toggle works despite the Loop always being inside a delay.</span></p>
<p><span style="font-weight: 400;">As you can see, Hardware Interrupts are a much more efficient method of capturing switch inputs.</span></p>
<h2><span id="Pin_Change_Interrupts"><span style="font-weight: 400;">Pin Change Interrupts</span></span></h2>
<p><span style="font-weight: 400;">Pin Change Interrupts are another 
form of a hardware interrupt. Unlike the interrupts we have just used, 
they are not restricted to specific pins, all the pins can be used for 
Pin Change Interrupts.</span></p>
<p><span style="font-weight: 400;">The catch is that Pin Change 
Interrupts are grouped into Ports, and all the pins on the same port 
create the same Pin Change Interrupt. This is fine if you are only using
 one, otherwise, you’ll need to figure out which pin caused the 
interrupt.</span></p>
<p><span style="font-weight: 400;">Pin Change Interrupts are restricted,
 as their name might imply, to only monitoring a CHANGE of logic state. 
So a switch press will generate two interrupts, one when the switch is 
pressed and a second one when it is released. If you need to know if the
 interrupt was caused by a HIGH or LOW input, then you’ll have to figure
 that out yourself.</span></p>
<h3><span id="Pin_Change_Ports"><span style="font-weight: 400;">Pin Change Ports</span></span></h3>
<p><span style="font-weight: 400;">Almost every pin on the ATmega328 
chip that the Arduino Uno (and other boards) are based upon can support 
24 Pin Change Interrupts.&nbsp; That includes the two pins used for the 
16MHz crystal oscillator.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8900" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-ports_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-ports.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-ports_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">On the Arduino Uno, 20 pins are available for Pin Change Interrupts, and they are divided into three ports.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8897" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-b_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-b.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-b_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Pins 8 through 13 are on Port B.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8898" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-c_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-c.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-c_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Pins A0 to A5 are on Port C.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8899" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-d.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-d_003.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-pin-change-port-d_002.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Pins 0 to 7 are on Port D.</span></p>
<h3><span id="Working_with_Pin_Change_Interrupts"><span style="font-weight: 400;">Working with Pin Change Interrupts</span></span></h3>
<p><span style="font-weight: 400;">In order to use Pin Change Interrupts, you’ll need to do the following:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Determine which pin(s) that you want to use.&nbsp; This will also tell you which port(s) you’ll need to use.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Enable the port(s) that you need.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Enable the pin(s) within that port that must be enabled for interrupts.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Edit
 the appropriate Interrupt Service Routine(s). If you are using more 
than one pin on the same port, then the ISR will need to be able to 
determine which pin caused the interrupt.</span></li>
</ul>
<p><span style="font-weight: 400;">Let’s look at those steps in a bit 
more detail. For our example we will just use an individual pin, later 
we will run a sketch that uses two pins on the same port.</span></p>
<h4><span id="Select_the_Port"><span style="font-weight: 400;">Select the Port</span></span></h4>
<p><span style="font-weight: 400;">The first step is to enable the 
appropriate port, which you’ll determine based on the pin number. To 
enable the port, you will use the </span><i><span style="font-weight: 400;">Pin Change Interrupt Control Register</span></i><span style="font-weight: 400;"> or PCICR.&nbsp;</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8908" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-1.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-1_003.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-1_002.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">The PCICR has three bits of interest,
 Bit 0, Bit 1, and Bit 2. Each bit is associated with one of the ports, 
and setting it to 1 will enable the port.</span></p>
<p><span style="font-weight: 400;">In Setup, you’ll write a binary 
number to the PCICR to set the appropriate bit(s) to 1.&nbsp; You can, 
of course, enable more than one port.</span></p>
<h4><span id="EnableDisable_the_Pins_on_the_Port"><span style="font-weight: 400;">Enable/Disable the Pins on the Port</span></span></h4>
<p><span style="font-weight: 400;">After enabling the port, you’ll need 
to enable the pin(s) that you want to use for Pin Change 
Interrupts.&nbsp; You do that by modifying the </span><i><span style="font-weight: 400;">Pin Change Mask</span></i><span style="font-weight: 400;"> for your selected port.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8909" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-2.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-2_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-2_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">There are three Pin Change Masks, and
 each one can enable or disable 8 pins. To enable a pin, you write a “1”
 to it. You can enable as many pins as you require, remember you’ll need
 to find a way to differentiate between them in your Interrupt Service 
Routine.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8910" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-3_003.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-3_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-3.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<h4><span id="Interrupt_Service_Routine"><span style="font-weight: 400;">Interrupt Service Routine</span></span></h4>
<p><span style="font-weight: 400;">Unlike Hardware Interrupts, you don’t
 just create an Interrupt Service Routine and give it any random name. 
With Pin Change Interrupts, the ISR has already been defined for you, so
 you’ll need to use the correct one for your port.</span></p>
<p><span style="font-weight: 400;">There are three ports and thus three ISRs, which are named as shown here:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8911" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-isr_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-isr_003.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-isr.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">All the same rules regarding 
Interrupt Service Routines apply to the ISR you use with Pin Change 
Interrupts. Keep it short and use volatile global variables.</span></p>
<h3><span id="Experimenting_with_Pin_Change_Interrupts"><span style="font-weight: 400;">Experimenting with Pin Change Interrupts</span></span></h3>
<p><span style="font-weight: 400;">In order to run the next couple of 
examples, we will need to add another pushbutton and LED to our Arduino.
 The final hookup is shown here:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8913" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-test-hookup_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-test-hookup.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/pin-change-test-hookup_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">So we now have:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">A pushbutton on pin D2.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">A pushbutton on pin D7.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">An LED on pin D11.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">An LED on pin D13.</span></li>
</ul>
<p><span style="font-weight: 400;">Note that the two pushbutton switches, on D2 and D7, are on the same port, port D.</span></p>
<h3><span id="Pin_Change_Interrupt_Example_1_8211_Simple_Interrupt"><span style="font-weight: 400;">Pin Change Interrupt Example 1 – Simple Interrupt</span></span></h3>
<p><span style="font-weight: 400;">The first example we will run will 
illustrate how to code for Pin Change Interrupts.&nbsp; We will only be 
using one switch and one&nbsp; LED in this experiment. Note that our 
switch is on pin D7, which is not a Hardware Interrupt pin.&nbsp; That 
doesn’t matter, as we’ll be sensing it with a Pin Change Interrupt!</span></p>
<p><span style="font-weight: 400;">We will be toggling the state of an 
LED every time we get an interrupt on pin D7. One important thing to 
keep in mind is that we will be sensing an input CHANGE of state, so a 
pushbutton will produce two interrupts – one when pressing it down and 
another one when releasing it.</span></p>
<p><span style="font-weight: 400;">This will make our LED operate a lot like it was just wired in series with the switch!</span></p>
<p><span style="font-weight: 400;">Here is our sketch:</span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-631cd866e0ee9737901317" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Pin Change Interrupt Test</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18px !important; line-height: 18px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">/*
  Pin Change Interrupt Test
  pin-change-test.ino
  Demonstrates use of Pin Change Interrupt
  Input on D7, LED on D13

  DroneBot Workshop 2022
  https://dronebotworkshop.com
*/

// LED and switch
const byte ledPin = 13;
const byte buttonPin = 7;

// Boolean to represent toggle state
volatile bool togglestate = false;

void setup() {

  // Set LED as output
  pinMode(ledPin, OUTPUT);

  // Set switch as input with pullup
  pinMode(buttonPin, INPUT_PULLUP);


  // Enable PCIE2 Bit3 = 1 (Port D)
  PCICR |= B00000100;
  // Select PCINT23 Bit7 = 1 (Pin D7)
  PCMSK2 |= B10000000;

}

void loop() {
  // No code in Loop
}

ISR (PCINT2_vect)
{
  // Interrupt for Port D
  // Invert toggle state
  togglestate = !togglestate;
  // Indicate state on LED
  digitalWrite(ledPin, togglestate);


}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-2">2</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-4">4</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-6">6</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-8">8</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-10">10</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-12">12</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-14">14</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-16">16</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-18">18</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-20">20</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-22">22</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-24">24</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-26">26</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-28">28</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-30">30</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-32">32</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-34">34</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-36">36</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-38">38</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-40">40</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-42">42</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-44">44</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0ee9737901317-46">46</div><div class="crayon-num" data-line="crayon-631cd866e0ee9737901317-47">47</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-631cd866e0ee9737901317-1"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-2"><span class="crayon-c">&nbsp;&nbsp;Pin Change Interrupt Test</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-3"><span class="crayon-c">&nbsp;&nbsp;pin-change-test.ino</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-4"><span class="crayon-c">&nbsp;&nbsp;Demonstrates use of Pin Change Interrupt</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-5"><span class="crayon-c">&nbsp;&nbsp;Input on D7, LED on D13</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-6">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-7"><span class="crayon-c">&nbsp;&nbsp;DroneBot Workshop 2022</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-8"><span class="crayon-c">&nbsp;&nbsp;https://dronebotworkshop.com</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-9"><span class="crayon-c">*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-10">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-11"><span class="crayon-c">// LED and switch</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-12"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">ledPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-13"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">buttonPin</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-14">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-15"><span class="crayon-c">// Boolean to represent toggle state</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-16"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-i">togglestate</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-18"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set LED as output</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-22">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set switch as input with pullup</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">INPUT_PULLUP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-25">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-26">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Enable PCIE2 Bit3 = 1 (Port D)</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">PCICR</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>=<span class="crayon-h"> </span><span class="crayon-i">B00000100</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Select PCINT23 Bit7 = 1 (Pin D7)</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">PCMSK2</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>=<span class="crayon-h"> </span><span class="crayon-i">B10000000</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-32"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-33">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-34"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-35"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// No code in Loop</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-36"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-38"><span class="crayon-e">ISR</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">PCINT2_vect</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-39"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Interrupt for Port D</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Invert toggle state</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-42"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">togglestate</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">!</span><span class="crayon-i">togglestate</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Indicate state on LED</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">togglestate</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0ee9737901317-46">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0ee9737901317-47"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0023 seconds] -->
<p><span style="font-weight: 400;">We start by defining pins for the switch and LED.</span></p>
<p><span style="font-weight: 400;">Next we create a volatile boolean to represent the toggle state.</span></p>
<p><span style="font-weight: 400;">In Setup, we use the </span><i><span style="font-weight: 400;">pinMode</span></i><span style="font-weight: 400;"> function to define our inputs and outputs.</span></p>
<p><span style="font-weight: 400;">And then we set up our Pin Change 
Interrupt. We modify the PCICR register to let it know we want to use 
port D, and we modify port D’s mask PCMSK2 to set pin D7 as an interrupt
 input.</span></p>
<p><span style="font-weight: 400;">We don’t have any code in the Loop, as we are doing everything with an interrupt service routine.</span></p>
<p><span style="font-weight: 400;">The Interrupt Service Routine is next, and as we are using port D we use </span><i><span style="font-weight: 400;">ISR (PCINT2_vect)</span></i><span style="font-weight: 400;">.&nbsp; In the ISR we flip the state of the </span><i><span style="font-weight: 400;">toggleState</span></i><span style="font-weight: 400;"> variable and use it to drive the LED.</span></p>
<p><span style="font-weight: 400;">Load the code and try it out. The LED
 should come on when you hold the switch down and go off when you 
release it. Which, of course, is a real overkill using a 
microcontroller, but it does demonstrate Pin Change Interrupts!</span></p>
<h3><span id="Pin_Change_Interrupt_Example_2_8211_Multiple_Interrupts_on_the_Same_Port"><span style="font-weight: 400;">Pin Change Interrupt Example 2 – Multiple Interrupts on the Same Port</span></span></h3>
<p><span style="font-weight: 400;">In the previous example, we were just
 able to act upon the Pin Change Interrupt, as only one pin on our port 
was enabled for interrupts. There was no question about what had caused 
the interrupt.</span></p>
<p><span style="font-weight: 400;">But how do you deal with it when you 
enable two or more pins on the same port for Pin Change Interrupts? You 
will need to determine who caused the interrupt so that you can act 
accordingly.</span></p>
<p><span style="font-weight: 400;">In this example, we will have two 
pushbuttons and two LEDs. Each pushbutton will act as a toggle for its 
respective LED. That means that we need to know two things when we get 
an interrupt:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">What pin caused the interrupt?</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Was it LOW or HIGH?</span></li>
</ul>
<p><span style="font-weight: 400;">We will answer both of those questions within our sketch:</span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-631cd866e0efa761048435" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Multiple Pin Change Interrupt Demo</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18px !important; line-height: 18px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">/*
  Multiple Pin Change Interrupt Demo
  pin-change-multiple-test.ino
  Demonstrates Pin Change Interrupts with two on same port
  Inputs on D2 &amp; D7, LEDs on D11 and D13

  DroneBot Workshop 2022
  https://dronebotworkshop.com
*/

// LEDs and switchs
const byte ledPin1 = 11;
const byte ledPin2 = 13;
const byte buttonPin1 = 2;
const byte buttonPin2 = 7;

// Booleans for input states
volatile bool D2_state = LOW;
volatile bool D7_state = LOW;

void setup() {

  // Set LEDs as outputs
  pinMode(ledPin1, OUTPUT);
  pinMode(ledPin2, OUTPUT);

  // Set switches as inputs with pullups
  pinMode(buttonPin1, INPUT_PULLUP);
  pinMode(buttonPin2, INPUT_PULLUP);

  // Enable PCIE2 Bit3 = 1 (Port D)
  PCICR |= B00000100;
  // Enable PCINT18  &amp; PCINT23 (Pins D2 &amp; D7)
  PCMSK2 |= B10000100;

}

void loop() {
  
  // Loop code

}

ISR (PCINT2_vect)
{
  // Port D Interrupt occured
  
  // Check if this was D2
  if (digitalRead(buttonPin1) == LOW) {
    //Pin D2 triggered the ISR on a Falling pulse
    D2_state = !D2_state;
    //Set LED 1 to state of D2_state boolean
    digitalWrite(ledPin1, D2_state);
  }

  // Check if this was D7
  if (digitalRead(buttonPin2) == LOW) {
    //Pin D7 triggered the ISR on a Falling pulse
    D7_state = !D7_state;
    //Set LED 2 to state of D7_state boolean
    digitalWrite(ledPin2, D7_state);
  }

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-2">2</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-4">4</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-6">6</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-8">8</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-10">10</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-12">12</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-14">14</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-16">16</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-18">18</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-20">20</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-22">22</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-24">24</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-26">26</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-28">28</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-30">30</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-32">32</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-34">34</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-36">36</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-38">38</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-40">40</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-42">42</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-44">44</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-46">46</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-48">48</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-50">50</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-52">52</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-54">54</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-56">56</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-58">58</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-60">60</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-62">62</div><div class="crayon-num" data-line="crayon-631cd866e0efa761048435-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0efa761048435-64">64</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-631cd866e0efa761048435-1"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-2"><span class="crayon-c">&nbsp;&nbsp;Multiple Pin Change Interrupt Demo</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-3"><span class="crayon-c">&nbsp;&nbsp;pin-change-multiple-test.ino</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-4"><span class="crayon-c">&nbsp;&nbsp;Demonstrates Pin Change Interrupts with two on same port</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-5"><span class="crayon-c">&nbsp;&nbsp;Inputs on D2 &amp; D7, LEDs on D11 and D13</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-6">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-7"><span class="crayon-c">&nbsp;&nbsp;DroneBot Workshop 2022</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-8"><span class="crayon-c">&nbsp;&nbsp;https://dronebotworkshop.com</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-9"><span class="crayon-c">*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-10">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-11"><span class="crayon-c">// LEDs and switchs</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-12"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">ledPin1</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">11</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-13"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">ledPin2</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">13</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-14"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">buttonPin1</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-15"><span class="crayon-m">const</span><span class="crayon-h"> </span><span class="crayon-t">byte</span><span class="crayon-h"> </span><span class="crayon-i">buttonPin2</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">7</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-16">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-17"><span class="crayon-c">// Booleans for input states</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-18"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-i">D2_state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-19"><span class="crayon-m">volatile</span><span class="crayon-h"> </span><span class="crayon-t">bool</span><span class="crayon-h"> </span><span class="crayon-i">D7_state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-20">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-21"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-22">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set LEDs as outputs</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-25"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-26">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-27"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set switches as inputs with pullups</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-28"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">INPUT_PULLUP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">INPUT_PULLUP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-30">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0efa761048435-31"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Enable PCIE2 Bit3 = 1 (Port D)</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">PCICR</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>=<span class="crayon-h"> </span><span class="crayon-i">B00000100</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Enable PCINT18&nbsp;&nbsp;&amp; PCINT23 (Pins D2 &amp; D7)</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-34"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">PCMSK2</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>=<span class="crayon-h"> </span><span class="crayon-i">B10000100</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-35">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-36"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-38"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-39"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Loop code</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-42"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-43">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-44"><span class="crayon-e">ISR</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">PCINT2_vect</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-45"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Port D Interrupt occured</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-47"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-48"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check if this was D2</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">digitalRead</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>==<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Pin D2 triggered the ISR on a Falling pulse</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">D2_state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">!</span><span class="crayon-i">D2_state</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Set LED 1 to state of D2_state boolean</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin1</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">D2_state</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-54"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-56"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Check if this was D7</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-57"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">digitalRead</span><span class="crayon-sy">(</span><span class="crayon-i">buttonPin2</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>==<span class="crayon-h"> </span><span class="crayon-i">LOW</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Pin D7 triggered the ISR on a Falling pulse</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">D7_state</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-sy">!</span><span class="crayon-i">D7_state</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Set LED 2 to state of D7_state boolean</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">D7_state</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-62"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0efa761048435-63">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0efa761048435-64"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0045 seconds] -->
<p><span style="font-weight: 400;">The sketch begins as you would 
expect, we define a bunch of variables for the LEDs and switches and two
 booleans, one for each toggle state.</span></p>
<p><span style="font-weight: 400;">In the Setup, we set the </span><i><span style="font-weight: 400;">pinModes</span></i><span style="font-weight: 400;"> for the switches and LEDs, again using the internal pull-up resistors for the inputs.</span></p>
<p><span style="font-weight: 400;">We then enable Port D, as we did in the previous sketch, by writing a “1” to bit 2 of the PCICR register.</span></p>
<p><span style="font-weight: 400;">Next, we write a “1” to both bits 7 
and 2 of the PCMSK2 mask, to let it know that pins D7 and D2 are to be 
treated as Pin Change Interrupts.</span></p>
<p><span style="font-weight: 400;">Again there is no code in the Loop, everything is being done in the Interrupt Service Routine.&nbsp;</span></p>
<p><span style="font-weight: 400;">That routine is ISR (PCINT2_vect), 
the ISR for Port D., which is the same ISR we used in the previous 
sketch. Only this time, we will need to figure out if it was pin D2 or 
D7 that caused the interrupt.</span></p>
<p><span style="font-weight: 400;">We are looking for a LOW condition in
 this sketch, as we want to toggle the button when the switch is 
pressed, but not when it is released.&nbsp; Also, we use a couple of if 
statements along with a </span><i><span style="font-weight: 400;">digitalRead</span></i><span style="font-weight: 400;">
 to check each input and determine if it is currently LOW. If it is, 
then we toggle the respective boolean and use it to control the LED.</span></p>
<p><span style="font-weight: 400;">Load the sketch and give it a test. 
The pushbutton tied to pin D2 should control the LED on pin D11, and the
 button on D7 should work with the LED on pin D13.&nbsp; You should be 
able to toggle each of them independently.</span></p>
<p><span style="font-weight: 400;">Pin Change Interrupts can be very 
useful when scanning a group or matrix of switches, or when you need an 
external interrupt but haven’t got a Hardware Interrupt pin to spare.</span></p>
<h2><span id="Timer_Interrupts"><span style="font-weight: 400;">Timer Interrupts</span></span></h2>
<p><span style="font-weight: 400;">Timer interrupts don’t use external 
signals. Instead, these interrupts are generated in software, and their 
timing is based upon the Arduino Uno’s 16 MHz clock oscillator.</span></p>
<p><span style="font-weight: 400;">You’ve likely been using Timer 
Interrupts without realizing it, as several popular libraries, such as 
the Servo and Tone libraries, use timer interrupts internally. Bear in 
mind that if you are using a library that makes use of the timers, 
you’ll need to know that so that you don’t write conflicting code.</span></p>
<h3><span id="Arduino_Uno_Timers"><span style="font-weight: 400;">Arduino Uno Timers</span></span></h3>
<p><span style="font-weight: 400;">The Arduino Uno has three internal timers, Timer0, Timer1, and Timer2.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8906" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-timers_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-timers.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-timers_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">These timers are not the same, as 
Timer1 is a 16-bit timer, whereas the other two timers are just 8-bit 
timers. The number of bits determines the maximum number that the timer 
can count to, 256 for the 8-bit timers and 65,536 for the 16-bit one.</span></p>
<p><span style="font-weight: 400;">The value in these timers is 
incremented by either the clock frequency or a fraction of it. You can 
use software to determine the count you wish to set the interrupt to 
trigger at, you can also trigger an interrupt when the timer overflows.</span></p>
<h3><span id="Dividing_the_Clock_Frequency"><span style="font-weight: 400;">Dividing the Clock Frequency</span></span></h3>
<p><span style="font-weight: 400;">The Timers are clocked by the 16 MHz oscillator which is internal to the ATmega328.&nbsp;</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8895" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-clock_003.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-clock.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-clock_002.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Every cycle of the clock is a timer 
“tick”, so at 16 MHz a “tick” would be a period of 62.5 nanoseconds. 
This is a pretty short period, and for many timing applications, it 
would be too short to be of much practical use.</span></p>
<p><span style="font-weight: 400;">To slow down the clock signal, the 
ATmega328 has a “Prescaler”, essentially a divider for the clock 
frequency. The Prescaler can divide the clock down to a more manageable 
lower frequency, you can select from a number of common divisions to 
create pulses as long as 64us.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8901" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Each timer has three Clock Select 
Bits, and the value of these bits can determine the Prescaler settings, 
as well as the timing source.&nbsp; You can also stop the clock entirely
 by setting all the Clock Select Bits to zero.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8902" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-0_003.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-0.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-0_002.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Timer0, an 8-bit Timer, uses bits CS01, CS02, and CS03.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8903" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-1.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-1_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-1_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Timer1, the 16-bit timer, uses bits CS10, CS11, and CS12.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8904" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-2.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-2_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-prescaler-timer-2_003.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Timer2, another 8-bit timer, uses bits CS20, CS21, and CS22.</span></p>
<h3><span id="Using_Timer_Interrupts"><span style="font-weight: 400;">Using Timer Interrupts</span></span></h3>
<p><span style="font-weight: 400;">Timer Interrupts can be operated in a couple of different modes, including </span><i><span style="font-weight: 400;">Compare Match Mode</span></i><span style="font-weight: 400;"> and </span><i><span style="font-weight: 400;">Overflow Mode</span></i><span style="font-weight: 400;">.</span></p>
<p><span style="font-weight: 400;">In Compare Match Mode, you place a 
counter value into a Compare Match Register. The timer interrupt is 
generated when the timer counter matches the value in that register.</span></p>
<p><span style="font-weight: 400;">In Overflow Mode the timer interrupt 
is generated when the timer reaches the end of its count, an interrupt 
is generated and the timer resets to zero and begins counting again.</span></p>
<p><span style="font-weight: 400;">By combining the Compare Match 
Register with a Prescaler you can get pretty well any timing period you 
want, assuming it is in the range of your timer (the 8-bit timers will 
only divide by a maximum of 255).</span></p>
<p><span style="font-weight: 400;">The formula for determining the output frequency, and thus the period, of a timer, is as follows:</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8894" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-timer-clock-calculation_003.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-timer-clock-calculation.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-timer-clock-calculation_002.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><b><i>Clock/(Prescaler x (Compare Match Register + 1)) = Frequency</i></b></p>
<p><span style="font-weight: 400;">If you know the frequency that you 
want and want to determine the Compare Match Register value, you can 
rewrite the formula as follows:</span></p>
<p><b><i>[Clock/(Prescaler x Frequency)] -1 = Compare Match Register</i></b></p>
<p><span style="font-weight: 400;">Using the above formulas we can 
calculate that to get a 1 Hz output we can use a Prescaler of 1024 and a
 Compare Match Register of 15,624. As this value exceeds 255 we would be
 limited to using Timer1, the 16-bit timer.</span></p>
<h3><span id="Timer_Interrupt_Service_Routines"><span style="font-weight: 400;">Timer Interrupt Service Routines</span></span></h3>
<p><span style="font-weight: 400;">As with the Pin Change Interrupts the
 names of the interrupt service routines for Timer Interrupts have 
already been determined for you.</span></p>
<p><img loading="lazy" class="alignnone size-full wp-image-8905" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-timer-isr_002.webp" alt="" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-timer-isr_003.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-uno-timer-isr.webp 300w" sizes="(max-width: 750px) 100vw, 750px" data-recalc-dims="1" width="750" height="422"></p>
<p><span style="font-weight: 400;">Each timer has two ISRs associated with it, one for Compare Match Mode and the other for Overflow Mode.</span></p>
<p><span style="font-weight: 400;">In the above diagram, the”x” after the word “TIMER” should be replaced by the timer number, such as 0, 1, or 2.</span></p>
<h3><span id="Simple_Timer_Example"><span style="font-weight: 400;">Simple Timer Example</span></span></h3>
<p><span style="font-weight: 400;">This very simple timer example sets 
up a timer for a 2 HZ output, or twice a second. We then use the timer 
to control an LED, so essentially we are building the Blink sketch!</span></p>
<p><span style="font-weight: 400;">We will be using an Arduino Uno and 
an LED (with dropping resistor) on pin 13. If you wish, you can just 
grab one of the previous experiments, or just use the built-in LED on 
the Arduino board.</span></p>
<p><span style="font-weight: 400;">Here is the sketch that we will be using:</span></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-631cd866e0f01625954742" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -18px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Arduino Timer Interrupt Flash Demo</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon" style="background-size: 48px 128px; background-image: url(&quot;https://dronebotworkshop.com/wp-content/plugins/crayon-syntax-highlighter-2.8.6/css/images/toolbar/buttons@2x.png&quot;);"></div></div></div></div>
			<div class="crayon-info" style="min-height: 18px !important; line-height: 18px !important;"></div>
			<div class="crayon-plain-wrap"><textarea class="crayon-plain print-no" data-settings="dblclick" readonly="readonly" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;" wrap="soft">/*
  Arduino Timer Interrupt Flash Demo
  timer-int-flash.ino
  Flash LED using Timer1

  DroneBot Workshop 2022
  https://dronebotworkshop.com
*/

// Define the LED pin
#define ledPin 13

// Define timer compare match register value
int timer1_compare_match;


ISR(TIMER1_COMPA_vect)
// Interrupt Service Routine for compare mode
{
  // Preload timer with compare match value
  TCNT1 = timer1_compare_match;
  
  // Write opposite value to LED
  digitalWrite(ledPin, digitalRead(ledPin) ^ 1);
}

void setup()
{
  // Set LED as output
  pinMode(ledPin, OUTPUT);

  // Disable all interrupts
  noInterrupts();

  // Initialize Timer1
  TCCR1A = 0;
  TCCR1B = 0;

  // Set timer1_compare_match to the correct compare match register value
  // 256 prescaler &amp; 31246 compare match = 2Hz
  timer1_compare_match = 31249;

  // Preload timer with compare match value
  TCNT1 = timer1_compare_match;

  // Set prescaler to 256
  TCCR1B |= (1 &lt;&lt; CS12);

  // Enable timer interrupt for compare mode
  TIMSK1 |= (1 &lt;&lt; OCIE1A);

  // Enable all interrupts
  interrupts();
}



void loop()
{

}</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table" style="">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-2">2</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-4">4</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-6">6</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-8">8</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-10">10</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-12">12</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-14">14</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-16">16</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-18">18</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-20">20</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-22">22</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-24">24</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-26">26</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-28">28</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-30">30</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-32">32</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-34">34</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-36">36</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-38">38</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-40">40</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-42">42</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-44">44</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-46">46</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-48">48</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-50">50</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-52">52</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-54">54</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-56">56</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-58">58</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-631cd866e0f01625954742-60">60</div><div class="crayon-num" data-line="crayon-631cd866e0f01625954742-61">61</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-631cd866e0f01625954742-1"><span class="crayon-c">/*</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-2"><span class="crayon-c">&nbsp;&nbsp;Arduino Timer Interrupt Flash Demo</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-3"><span class="crayon-c">&nbsp;&nbsp;timer-int-flash.ino</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-4"><span class="crayon-c">&nbsp;&nbsp;Flash LED using Timer1</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-5">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-6"><span class="crayon-c">&nbsp;&nbsp;DroneBot Workshop 2022</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-7"><span class="crayon-c">&nbsp;&nbsp;https://dronebotworkshop.com</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-8"><span class="crayon-c">*/</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-10"><span class="crayon-c">// Define the LED pin</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-11"><span class="crayon-p">#define ledPin 13</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-12">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-13"><span class="crayon-c">// Define timer compare match register value</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-14"><span class="crayon-t">int</span><span class="crayon-h"> </span><span class="crayon-i">timer1_compare_match</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-15">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-16">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-17"><span class="crayon-e">ISR</span><span class="crayon-sy">(</span><span class="crayon-i">TIMER1_COMPA_vect</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-18"><span class="crayon-c">// Interrupt Service Routine for compare mode</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-19"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-20"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Preload timer with compare match value</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-21"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">TCNT1</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">timer1_compare_match</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-22"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-23"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Write opposite value to LED</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-24"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">digitalWrite</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-e">digitalRead</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">)</span><span class="crayon-h"> </span>^<span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-25"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-26">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-27"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">setup</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-28"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-29"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set LED as output</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-30"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">pinMode</span><span class="crayon-sy">(</span><span class="crayon-i">ledPin</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-i">OUTPUT</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-32"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Disable all interrupts</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-33"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">noInterrupts</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-34">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-35"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Initialize Timer1</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-36"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">TCCR1A</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-37"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">TCCR1B</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-38">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-39"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set timer1_compare_match to the correct compare match register value</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-40"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// 256 prescaler &amp; 31246 compare match = 2Hz</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-41"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">timer1_compare_match</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-cn">31249</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-42">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-43"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Preload timer with compare match value</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-44"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">TCNT1</span><span class="crayon-h"> </span>=<span class="crayon-h"> </span><span class="crayon-i">timer1_compare_match</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-46"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Set prescaler to 256</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-47"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">TCCR1B</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>=<span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span><span class="crayon-h">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">CS12</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-48">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-49"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Enable timer interrupt for compare mode</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-50"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-i">TIMSK1</span><span class="crayon-h"> </span><span class="crayon-sy">|</span>=<span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-h">&lt;</span><span class="crayon-h">&lt;</span><span class="crayon-h"> </span><span class="crayon-i">OCIE1A</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-52"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Enable all interrupts</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-53"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">interrupts</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-54"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-56">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-58"><span class="crayon-t">void</span><span class="crayon-h"> </span><span class="crayon-e">loop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-631cd866e0f01625954742-59"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-631cd866e0f01625954742-60">&nbsp;</div><div class="crayon-line" id="crayon-631cd866e0f01625954742-61"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0025 seconds] -->
<p><span style="font-weight: 400;">In this sketch, we are using the 
Compare Match Mode, so after we define an LED pin, we also create an 
integer to hold the compare match register value.</span></p>
<p><span style="font-weight: 400;">Next, our Interrupt Service Routine. As we are using Compare Match Mode on Timer1, we will use</span><i><span style="font-weight: 400;"> ISR(TIMER1_COMPA_vect)</span></i><span style="font-weight: 400;">.</span></p>
<p><span style="font-weight: 400;">In the ISR we do two things:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Preload the timer with the compare match value, to start the cycle again</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Flip the value of the LED.</span></li>
</ul>
<p><span style="font-weight: 400;">In Setup, we set our LED pin as an 
output. We then temporarily disable all interrupts, to prevent one from 
coming along while we are still setting things up.</span></p>
<p><span style="font-weight: 400;">We initialize Timer1 with two 
commands and then set up our compare match value. Since we are looking 
to achieve 2 Hz, we calculate that 31246 is a good value if we use a 
Prescaler of 256.</span></p>
<p><span style="font-weight: 400;">We then preload our timer with the compare match value, set our Prescaler for 256, and enable interrupts in compare match mode.</span></p>
<p><span style="font-weight: 400;">Finally, we re-enable all the interrupts.</span></p>
<p><span style="font-weight: 400;">Load the sketch and observe the LED 
flashing. After the thrill of that is gone, experiment with different 
Prescaler and Compare Match values.</span></p>
<h2><span id="Conclusion"><span style="font-weight: 400;">Conclusion</span></span></h2>
<p><span style="font-weight: 400;">Interrupts are a great way to build 
projects that require precise timing or a responsive user 
interface.&nbsp; While most of us have dabbled with Hardware Interrupts,
 many people shy away from Pin Change or Timer interrupts, which is a 
shame as they are so useful and the binary coding isn’t really that 
difficult once you understand the use of the registers.</span></p>
<p><span style="font-weight: 400;">I’d encourage you to incorporate 
interrupts into your next design.&nbsp; Remember, in some cases, it 
isn’t rude to be interrupted!</span></p>
<p>&nbsp;</p>
<h3><span id="Resources"><span style="font-weight: 400;">Resources</span></span></h3>
<p><a href="https://s3.amazonaws.com/download.dronebotworkshop.com/Arduino+Interrupts+-+DroneBot+Workshop.zip" target="_blank" rel="noopener"><span style="font-weight: 400;">Code Samples</span></a><span style="font-weight: 400;"> – All the code used in this article, packed up nicely in a ZIP file.</span></p>
<p><a href="https://www.arduino.cc/reference/en/language/functions/external-interrupts/attachinterrupt/" target="_blank" rel="noopener"><span style="font-weight: 400;">attachInterrupt</span></a><span style="font-weight: 400;"> – Reference for the attachInterrupt function used with Hardware Interrupts.</span></p>
<p>&nbsp;</p>
<div class="extra-hatom-entry-title"><span class="entry-title">Using Arduino Interrupts – Hardware, Pin Change and Timer</span></div>
<div id="jp-relatedposts" class="jp-relatedposts" style="display: block;">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
<div class="jp-relatedposts-items jp-relatedposts-items-visual jp-relatedposts-grid "><div class="jp-relatedposts-post jp-relatedposts-post0 jp-relatedposts-post-thumbs" data-post-id="418" data-post-format="false"><a class="jp-relatedposts-post-a" href="https://dronebotworkshop.com/meet-the-arduino-family/?relatedposts_hit=1&amp;relatedposts_origin=8889&amp;relatedposts_position=0" title="Meet the Arduino Family" data-origin="8889" data-position="0"><img class="jp-relatedposts-post-img" loading="lazy" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/meet-the-arduino-family-e1504975307454.webp" alt="The Arduino Family" width="350" height="200"></a><h4 class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://dronebotworkshop.com/meet-the-arduino-family/?relatedposts_hit=1&amp;relatedposts_origin=8889&amp;relatedposts_position=0" title="Meet the Arduino Family" data-origin="8889" data-position="0">Meet the Arduino Family</a></h4><p class="jp-relatedposts-post-excerpt">Uno's,
 Megas, Gemma's, Nanos - the Arduino family is a huge clan, especially 
when you factor in the Genuino cousins and all of the Arduino clones and
 single-chip solutions. Each family member has its own unique 
personality too! Let's meet some of the members of the Arduino family 
and learn…</p><time class="jp-relatedposts-post-date" datetime="February 17, 2016" style="display: block;">February 17, 2016</time><p class="jp-relatedposts-post-context">In "Arduino"</p></div><div class="jp-relatedposts-post jp-relatedposts-post1 jp-relatedposts-post-thumbs" data-post-id="7425" data-post-format="false"><a class="jp-relatedposts-post-a" href="https://dronebotworkshop.com/seeeduino-xiao-intro/?relatedposts_hit=1&amp;relatedposts_origin=8889&amp;relatedposts_position=1" title="Meet the Seeeduino XIAO" data-origin="8889" data-position="1"><img class="jp-relatedposts-post-img" loading="lazy" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/SeeeduinoXIAO.webp" alt="Seeeduino XIAO" width="350" height="200"></a><h4 class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://dronebotworkshop.com/seeeduino-xiao-intro/?relatedposts_hit=1&amp;relatedposts_origin=8889&amp;relatedposts_position=1" title="Meet the Seeeduino XIAO" data-origin="8889" data-position="1">Meet the Seeeduino XIAO</a></h4><p class="jp-relatedposts-post-excerpt">Come
 and meet the XIAO, a tiny 32-bit Arduino-compatible microcontroller 
that goes for only 5 dollars!This amazing little device outperforms the 
Arduino AVR boards and offers features like an analog output and 10 PWM 
pins.We will explore the XIAO using the Arduino IDE and see how easy it 
is to…</p><time class="jp-relatedposts-post-date" datetime="December 1, 2020" style="display: block;">December 1, 2020</time><p class="jp-relatedposts-post-context">In "Arduino"</p></div><div class="jp-relatedposts-post jp-relatedposts-post2 jp-relatedposts-post-thumbs" data-post-id="7635" data-post-format="false"><a class="jp-relatedposts-post-a" href="https://dronebotworkshop.com/dc-volt-current/?relatedposts_hit=1&amp;relatedposts_origin=8889&amp;relatedposts_position=2" title="Measure DC Voltage and Current with an Arduino" data-origin="8889" data-position="2"><img class="jp-relatedposts-post-img" loading="lazy" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/measure-dc-voltage-and-current.webp" alt="Measuring DC Voltage and Current" width="350" height="200"></a><h4 class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://dronebotworkshop.com/dc-volt-current/?relatedposts_hit=1&amp;relatedposts_origin=8889&amp;relatedposts_position=2" title="Measure DC Voltage and Current with an Arduino" data-origin="8889" data-position="2">Measure DC Voltage and Current with an Arduino</a></h4><p class="jp-relatedposts-post-excerpt">In
 this first of a two-part series we will learn how to measure both DC 
voltage and DC current using an Arduino Uno. Although the examples all 
use the Uno, what we learn here can be applied to any 
microcontroller.The second part of the series will, of course, focus on…</p><time class="jp-relatedposts-post-date" datetime="January 23, 2021" style="display: block;">January 23, 2021</time><p class="jp-relatedposts-post-context">In "Arduino"</p></div></div></div><div id="snippet-box" class="snippet-type-10" style="background:#F5F5F5; color:#333333; border:1px solid #578fbf;"><div class="snippet-title" style="background:#e5efff; color:#333333; border-bottom:1px solid #578fbf;">Summary</div><div itemscope="" itemtype="https://schema.org/Article"><div class="snippet-image" itemprop="image" itemscope="" itemtype="https://schema.org/ImageObject"><img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/arduino-interrupts.webp" alt="Using Arduino Interrupts - Hardware, Pin Change and Timer" width="180" height="101"><meta itemprop="url" content="https://dronebotworkshop.com/wp-content/uploads/2022/05/arduino-interrupts.jpg"></div><div class="aio-info"><div class="snippet-label-img">Article Name</div><div class="snippet-data-img"><span itemprop="headline">Using Arduino Interrupts - Hardware, Pin Change and Timer</span></div><div class="snippet-clear"></div><div class="snippet-label-img">Description</div><div class="snippet-data-img"><span itemprop="description">Interrupts
 are the key to construction projects with responsive user interfaces or
 that have precision timing requirements. Today we will learn how to use
 Hardware, Pin Change, and Timer Interrupts with the Arduino Uno.</span></div><div class="snippet-clear"></div><div class="snippet-label-img">Author</div><div class="snippet-data-img" itemprop="author" itemscope="" itemtype="https://schema.org/Person">
							<span itemprop="name">DroneBot Workshop</span>
							</div>
							<div class="snippet-clear"></div><div itemprop="publisher" itemscope="" itemtype="https://schema.org/Organization"><div class="snippet-label-img">Publisher Name</div><div class="snippet-data-img">
							<span itemprop="name">DroneBot Workshop</span>
							</div>
							

							<div class="snippet-clear"></div><div class="snippet-label-img">Publisher Logo</div><div class="snippet-data-img publisher-logo" itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject"><img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/DBWS-Robot-Square-300x300.webp" alt="DroneBot Workshop" width="180" height="180"><meta itemprop="url" content="https://dronebotworkshop.com/wp-content/uploads/2018/03/DBWS-Robot-Square-300x300.jpg"></div></div><meta itemscope="" itemprop="mainEntityOfPage" itemtype="https://schema.org/WebPage" itemid="https://dronebotworkshop.com/interrupts/"><meta itemprop="datePublished" content="2022-05-10T08:59:06-04:00"><meta itemprop="dateModified" content="2022-05-10T08:59:06-04:00"></div>
					</div></div><div class="snippet-clear"></div>			<div class="tags">
				Tagged on: <a href="https://dronebotworkshop.com/tag/arduino-tutorial/" rel="tag">Arduino Tutorial</a>			</div>
				</div>

	<footer class="entry-meta-bar clearfix"><div class="entry-meta clearfix">
			<span class="by-author author vcard"><a class="url fn n" href="https://dronebotworkshop.com/author/billjamshedji/">DroneBot Workshop</a></span>

			<span class="date"><a href="https://dronebotworkshop.com/interrupts/" title="8:59 am" rel="bookmark"><time class="entry-date published" datetime="2022-05-10T08:59:06-04:00">May 10, 2022</time></a></span>				<span class="category"><a href="https://dronebotworkshop.com/category/arduino/" rel="category tag">Arduino</a>, <a href="https://dronebotworkshop.com/category/tutorial/" rel="category tag">Tutorial</a></span>
								<span class="comments"><a href="https://dronebotworkshop.com/interrupts/#comments">6 Comments</a></span>
			</div></footer>
	</article>

				
		<ul class="default-wp-page clearfix">
			<li class="previous"><a href="https://dronebotworkshop.com/esp32-cam-microsd/" rel="prev"><span class="meta-nav">←</span> Using the ESP32-CAM MicroSD Card</a></li>
			<li class="next"><a href="https://dronebotworkshop.com/esp32-i2s/" rel="next">Sound with ESP32 – I2S Protocol <span class="meta-nav">→</span></a></li>
		</ul>
					
				<!--  Added for pagination - W.J. 2017-03-26  -->
								
				<!--  Added for text above comments - W.J. 2020-01-13  -->
				<h4>If you have a question...</h4>
				<p>Comments about this article are encouraged and appreciated.  
However, due to the large volume of comments that I receive, it may not 
be possible for me to answer you directly here on the website.</p>
				<p><strong>You are much more likely to get answers to technical questions by making a post on the <a href="https://forum.dronebotworkshop.com/" target="_blank">DroneBot Workshop Forum</a></strong>.
  
Your post will be seen not only by myself, but by a large group of tech 
enthusiasts who can quickly answer your question. You may also add code 
samples, images and videos to your forum posts.</p>
				<p>Having said that, please feel free to leave constructive comments
 here.  Your input is always welcome. Please note that all comments may 
be held for moderation.</p>


				    <div class="wpdiscuz_top_clearing"></div>
    <div id="comments" class="comments-area"><div id="respond" style="width: 0;height: 0;clear: both;margin: 0;padding: 0;"></div>    <div id="wpdcom" class="wpdiscuz_unauth wpd-default wpdiscuz_no_avatar wpd-layout-1 wpd-comments-open">
                    <div class="wc_social_plugin_wrapper">
                            </div>
            <div class="wpd-form-wrap">
                <div class="wpd-form-head">
                                        <div class="wpd-auth">
                                                <div class="wpd-login">
                                                    </div>
                    </div>
                </div>
                                        <div class="wpd-form wpd-form-wrapper wpd-main-form-wrapper" id="wpd-main-form-wrapper-0_0">
                                        <form class="wpd_comm_form wpd_main_comm_form" method="post" enctype="multipart/form-data" data-uploading="false">
                    <div class="wpd-field-comment">
                        <div class="wpdiscuz-item wc-field-textarea">
                            <div class="wpdiscuz-textarea-wrap ">
                                            <div id="wpd-editor-wraper-0_0" style="">
                
                <label style="display: none;" for="wc-textarea-0_0">Label</label>
                
                <div id="wpd-editor-0_0" class="ql-container ql-snow"><div class="ql-editor ql-blank" data-gramm="false" data-placeholder="Join the discussion" contenteditable="true"><p><br></p></div><div class="ql-clipboard" tabindex="-1" contenteditable="true"></div><div class="ql-tooltip ql-hidden"><a class="ql-preview" target="_blank" href="about:blank"></a><input type="text" data-formula="e=mc^2" data-link="https://example.com" data-video="Embed URL"><a class="ql-action"></a><a class="ql-remove"></a></div><div class="ql-texteditor"><textarea id="wc-textarea-0_0" required="" name="wc_comment" class="wc_comment wpd-field" style="display: none;"></textarea></div></div>
                        <div id="wpd-editor-toolbar-0_0" class="ql-toolbar ql-snow">
                            <button title="Bold" class="ql-bold" type="button"><svg viewBox="0 0 18 18"> <path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"></path> <path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"></path> </svg></button>
                                <button title="Italic" class="ql-italic" type="button"><svg viewBox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"></line> <line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"></line> <line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"></line> </svg></button>
                                <button title="Underline" class="ql-underline" type="button"><svg viewBox="0 0 18 18"> <path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"></path> <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"></rect> </svg></button>
                                <button title="Strike" class="ql-strike" type="button"><svg viewBox="0 0 18 18"> <line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"></line> <path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"></path> <path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"></path> </svg></button>
                                <button title="Ordered List" class="ql-list" value="ordered" type="button"><svg viewBox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"></line> <line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"></line> <line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"></line> <line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"></line> <path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"></path> <path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"></path> <path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"></path> </svg></button>
                                <button title="Unordered List" class="ql-list" value="bullet" type="button"><svg viewBox="0 0 18 18"> <line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"></line> <line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"></line> <line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"></line> <line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"></line> <line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"></line> <line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"></line> </svg></button>
                                <button title="Blockquote" class="ql-blockquote" type="button"><svg viewBox="0 0 18 18"> <rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"></rect> <rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"></rect> <path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"></path> <path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"></path> </svg></button>
                                <button title="Code Block" class="ql-code-block" type="button"><svg viewBox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"></line> </svg></button>
                                <button title="Link" class="ql-link" type="button"><svg viewBox="0 0 18 18"> <line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"></line> <path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"></path> <path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"></path> </svg></button>
                                <button title="Source Code" class="ql-sourcecode" data-wpde_button_name="sourcecode" type="button">{}</button>
                                <button title="Spoiler" class="ql-spoiler" data-wpde_button_name="spoiler" type="button">[+]</button>
                            <div class="wpd-editor-buttons-right">
                            </div>
        </div>
                    </div>
                                        </div>
                        </div>
                    </div>
                    <div class="wpd-form-foot" style="display:none;">
                        <div class="wpdiscuz-textarea-foot">
                                                        <div class="wpdiscuz-button-actions"></div>
                        </div>
                                <div class="wpd-form-row">
                    <div class="wpd-form-col-left">
                        <div class="wpdiscuz-item wc_name-wrapper wpd-has-icon">
                                    <div class="wpd-field-icon"><i class="fas fa-user"></i></div>
                                    <input id="wc_name-0_0" required="required" aria-required="true" class="wc_name wpd-field" type="text" name="wc_name" placeholder="Name*" maxlength="50" pattern=".{3,50}" title="">
                <label for="wc_name-0_0" class="wpdlb">Name*</label>
                            </div>
                        <div class="wpdiscuz-item wc_email-wrapper wpd-has-icon">
                                    <div class="wpd-field-icon"><i class="fas fa-at"></i></div>
                                    <input id="wc_email-0_0" required="required" aria-required="true" class="wc_email wpd-field" type="email" name="wc_email" placeholder="Email*">
                <label for="wc_email-0_0" class="wpdlb">Email*</label>
                            </div>
                            <div class="wpdiscuz-item wc_website-wrapper wpd-has-icon">
                                            <div class="wpd-field-icon"><i class="fas fa-link"></i></div>
                                        <input id="wc_website-0_0" class="wc_website wpd-field" type="text" name="wc_website" placeholder="Website">
                    <label for="wc_website-0_0" class="wpdlb">Website</label>
                                    </div>
                        </div>
                <div class="wpd-form-col-right">
                    <div class="wpdiscuz-item wpd-field-group wpd-field-checkbox wpd-field-agreement wpd-field-single custom_field_5b073e372e2a4-wrapper wpd-required-group wpd-has-desc">
            <div class="wpd-field-group-title">
                <div class="wpd-item">
                    <input id="custom_field_5b073e372e2a4-1_0_0" type="checkbox" name="custom_field_5b073e372e2a4" value="1" class="custom_field_5b073e372e2a4 wpd-field wpd-agreement-checkbox  wpd_agreement_hide " required="">
                    <label class="wpd-field-label wpd-cursor-pointer" for="custom_field_5b073e372e2a4-1_0_0">I agree to the <a href="https://dronebotworkshop.com/about-dronebot-workshop/terms-of-use/" target="_blank">Terms</a> and <a href="https://dronebotworkshop.com/about-dronebot-workshop/privacy-and-cookies/" target="_blank">Privacy Policy</a></label>
                </div>
            </div>
                        <div class="wpd-field-desc">
                    <i class="far fa-question-circle"></i><span>The 
comment form collects your name, email and content to allow us keep 
track of the comments placed on the website.  Please read and accept our
 website Terms and Privacy Policy to post a comment.</span>
                </div>
                </div>
                <div class="wc-field-submit">
                                                                <input id="wpd-field-submit-0_0" class="wc_comm_submit wpd_not_clicked wpd-prim-button" type="submit" name="submit" value="Post Comment">
        </div>
                </div>
                    <div class="clearfix"></div>
        </div>
                            </div>
                                        <input type="hidden" class="wpdiscuz_unique_id" value="0_0" name="wpdiscuz_unique_id">
                </form>
                        </div>
                <div id="wpdiscuz_hidden_secondary_form" style="display: none;">
                    <div class="wpd-form wpd-form-wrapper wpd-secondary-form-wrapper" id="wpd-secondary-form-wrapper-wpdiscuzuniqueid" style="display: none;">
                            <div class="wpd-secondary-forms-social-content"></div>
                <div class="clearfix"></div>
                                        <form class="wpd_comm_form wpd-secondary-form-wrapper" method="post" enctype="multipart/form-data" data-uploading="false">
                    <div class="wpd-field-comment">
                        <div class="wpdiscuz-item wc-field-textarea">
                            <div class="wpdiscuz-textarea-wrap ">
                                            <div id="wpd-editor-wraper-wpdiscuzuniqueid" style="display: none;">
                <div id="wpd-editor-char-counter-wpdiscuzuniqueid" class="wpd-editor-char-counter"></div>
                <label style="display: none;" for="wc-textarea-wpdiscuzuniqueid">Label</label>
                <textarea id="wc-textarea-wpdiscuzuniqueid" required="" name="wc_comment" class="wc_comment wpd-field"></textarea>
                <div id="wpd-editor-wpdiscuzuniqueid"></div>
                        <div id="wpd-editor-toolbar-wpdiscuzuniqueid">
                            <button title="Bold" class="ql-bold"></button>
                                <button title="Italic" class="ql-italic"></button>
                                <button title="Underline" class="ql-underline"></button>
                                <button title="Strike" class="ql-strike"></button>
                                <button title="Ordered List" class="ql-list" value="ordered"></button>
                                <button title="Unordered List" class="ql-list" value="bullet"></button>
                                <button title="Blockquote" class="ql-blockquote"></button>
                                <button title="Code Block" class="ql-code-block"></button>
                                <button title="Link" class="ql-link"></button>
                                <button title="Source Code" class="ql-sourcecode" data-wpde_button_name="sourcecode">{}</button>
                                <button title="Spoiler" class="ql-spoiler" data-wpde_button_name="spoiler">[+]</button>
                            <div class="wpd-editor-buttons-right">
                            </div>
        </div>
                    </div>
                                        </div>
                        </div>
                    </div>
                    <div class="wpd-form-foot" style="display:none;">
                        <div class="wpdiscuz-textarea-foot">
                                                        <div class="wpdiscuz-button-actions"></div>
                        </div>
                                <div class="wpd-form-row">
                    <div class="wpd-form-col-left">
                        <div class="wpdiscuz-item wc_name-wrapper wpd-has-icon">
                                    <div class="wpd-field-icon"><i class="fas fa-user"></i></div>
                                    <input id="wc_name-wpdiscuzuniqueid" required="required" aria-required="true" class="wc_name wpd-field" type="text" name="wc_name" placeholder="Name*" maxlength="50" pattern=".{3,50}" title="">
                <label for="wc_name-wpdiscuzuniqueid" class="wpdlb">Name*</label>
                            </div>
                        <div class="wpdiscuz-item wc_email-wrapper wpd-has-icon">
                                    <div class="wpd-field-icon"><i class="fas fa-at"></i></div>
                                    <input id="wc_email-wpdiscuzuniqueid" required="required" aria-required="true" class="wc_email wpd-field" type="email" name="wc_email" placeholder="Email*">
                <label for="wc_email-wpdiscuzuniqueid" class="wpdlb">Email*</label>
                            </div>
                            <div class="wpdiscuz-item wc_website-wrapper wpd-has-icon">
                                            <div class="wpd-field-icon"><i class="fas fa-link"></i></div>
                                        <input id="wc_website-wpdiscuzuniqueid" class="wc_website wpd-field" type="text" name="wc_website" placeholder="Website">
                    <label for="wc_website-wpdiscuzuniqueid" class="wpdlb">Website</label>
                                    </div>
                        </div>
                <div class="wpd-form-col-right">
                    <div class="wpdiscuz-item wpd-field-group wpd-field-checkbox wpd-field-agreement wpd-field-single custom_field_5b073e372e2a4-wrapper wpd-required-group wpd-has-desc">
            <div class="wpd-field-group-title">
                <div class="wpd-item">
                    <input id="custom_field_5b073e372e2a4-1_wpdiscuzuniqueid" type="checkbox" name="custom_field_5b073e372e2a4" value="1" class="custom_field_5b073e372e2a4 wpd-field wpd-agreement-checkbox  wpd_agreement_hide " required="">
                    <label class="wpd-field-label wpd-cursor-pointer" for="custom_field_5b073e372e2a4-1_wpdiscuzuniqueid">I agree to the <a href="https://dronebotworkshop.com/about-dronebot-workshop/terms-of-use/" target="_blank">Terms</a> and <a href="https://dronebotworkshop.com/about-dronebot-workshop/privacy-and-cookies/" target="_blank">Privacy Policy</a></label>
                </div>
            </div>
                        <div class="wpd-field-desc">
                    <i class="far fa-question-circle"></i><span>The 
comment form collects your name, email and content to allow us keep 
track of the comments placed on the website.  Please read and accept our
 website Terms and Privacy Policy to post a comment.</span>
                </div>
                </div>
                <div class="wc-field-submit">
                                                                <input id="wpd-field-submit-wpdiscuzuniqueid" class="wc_comm_submit wpd_not_clicked wpd-prim-button" type="submit" name="submit" value="Post Comment">
        </div>
                </div>
                    <div class="clearfix"></div>
        </div>
                            </div>
                                        <input type="hidden" class="wpdiscuz_unique_id" value="wpdiscuzuniqueid" name="wpdiscuz_unique_id">
                </form>
                        </div>
                </div>
                    </div>
                        <div id="wpd-threads" class="wpd-thread-wrapper">
                <div class="wpd-thread-head">
                    <div class="wpd-thread-info " data-comments-count="6">
                        <span class="wpdtc" title="6">6</span> Comments                    </div>
                                        <div class="wpd-space"></div>
                    <div class="wpd-thread-filter">
                                                    <div class="wpd-filter wpdf-reacted wpd_not_clicked" wpd-tooltip="Most reacted comment"><i class="fas fa-bolt"></i></div>
                                                        <div class="wpd-filter wpdf-hottest wpd_not_clicked" wpd-tooltip="Hottest comment thread"><i class="fas fa-fire"></i></div>
                                                        <div class="wpd-filter wpdf-sorting">
                                                                        <span class="wpdiscuz-sort-button wpdiscuz-date-sort-asc wpdiscuz-sort-button-active" data-sorting="oldest">Oldest</span>
                                                                        <i class="fas fa-sort-down"></i>
                                <div class="wpdiscuz-sort-buttons" style="display: none;">
                                                                            <span class="wpdiscuz-sort-button wpdiscuz-date-sort-desc" data-sorting="newest">Newest</span>
                                                                                <span class="wpdiscuz-sort-button wpdiscuz-vote-sort-up" data-sorting="by_vote">Most Voted</span>
                                                                        </div>
                            </div>
                                                </div>
                </div>
                <div class="wpd-comment-info-bar">
                    <div class="wpd-current-view"><i class="fas fa-quote-left"></i> Inline Feedbacks</div>
                    <div class="wpd-filter-view-all">View all comments</div>
                </div>
                                <div class="wpd-thread-list">
                    <div id="wpd-comm-5275_0" class="comment even thread-even depth-1 wpd-comment wpd_comment_level-1"><div class="wpd-comment-wrap wpd-blog-guest">
    
    <div id="comment-5275" class="wpd-comment-right">
    <div class="wpd-comment-header">
    <div class="wpd-comment-author ">
    <a href="http://none/" rel="noreferrer ugc nofollow" target="_blank">Justa Guy</a>
</div>
    <div class="wpd-comment-date" title="May 10, 2022 3:24 pm">
    <i class="far fa-clock" aria-hidden="true"></i>
    3 months ago
</div>
    
    
    <div class="wpd-space"></div>
    <div class="wpd-comment-link wpd-hidden">
    <span wpd-tooltip="Comment Link" wpd-tooltip-position="left"><i class="fas fa-link" aria-hidden="true" data-wpd-clipboard="https://dronebotworkshop.com/interrupts/#comment-5275"></i></span>
</div>
</div>
    
    <div class="wpd-comment-text">
    <p>I’ve been both a hardware guy for 13 years and a software guy for
 20+ years. Your explanation of interrupts is excellent and your code in
 also. Often the code in examples on other sites is not great and many 
times contains bugs or poor coding practices. Your code is clean and 
lean…just the way I like it. Please continue to post the code on this 
web site so it can be copy/pasted into the Arduino compiler. This makes 
it so much easier than trying to get it from the youtube video. Your 
videos are well-produced and extremely easy to<span id="wpdiscuz-readmore-5275_0"><span class="wpdiscuz-hellip">…&nbsp;</span><span class="wpdiscuz-readmore" title="Read more »">Read more »</span></span></p>
</div><div class="wpd-comment-last-edited"><i class="far fa-edit"></i>Last edited 3 months ago by Justa Guy</div>
    <div class="wpd-comment-footer">
    <div class="wpd-vote">
    <div class="wpd-vote-up wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
    <div class="wpd-vote-result" title="0">0</div>
    <div class="wpd-vote-down wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
</div>
    <div class="wpd-reply-button">
    <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
    <span>Reply</span>
</div>
    <div class="wpd-space"></div>
    
    
</div>
</div>
</div><div id="wpdiscuz_form_anchor-5275_0"></div></div><div id="wpd-comm-5277_0" class="comment odd alt thread-odd thread-alt depth-1 wpd-comment wpd_comment_level-1"><div class="wpd-comment-wrap wpd-blog-guest">
    
    <div id="comment-5277" class="wpd-comment-right">
    <div class="wpd-comment-header">
    <div class="wpd-comment-author ">
    Zvi Schneider
</div>
    <div class="wpd-comment-date" title="May 11, 2022 2:36 am">
    <i class="far fa-clock" aria-hidden="true"></i>
    3 months ago
</div>
    
    
    <div class="wpd-space"></div>
    <div class="wpd-comment-link wpd-hidden">
    <span wpd-tooltip="Comment Link" wpd-tooltip-position="left"><i class="fas fa-link" aria-hidden="true" data-wpd-clipboard="https://dronebotworkshop.com/interrupts/#comment-5277"></i></span>
</div>
</div>
    
    <div class="wpd-comment-text">
    <p>In the “hardware interrupts” and in the “Pin change interrupts” examples, how is the switch bounce handled?</p>

</div>
    <div class="wpd-comment-footer">
    <div class="wpd-vote">
    <div class="wpd-vote-up wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
    <div class="wpd-vote-result" title="0">0</div>
    <div class="wpd-vote-down wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
</div>
    <div class="wpd-reply-button">
    <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
    <span>Reply</span>
</div>
    <div class="wpd-space"></div>
    
    
</div>
</div>
</div><div id="wpdiscuz_form_anchor-5277_0"></div></div><div id="wpd-comm-5278_0" class="comment even thread-even depth-1 wpd-comment wpd_comment_level-1"><div class="wpd-comment-wrap wpd-blog-guest">
    
    <div id="comment-5278" class="wpd-comment-right">
    <div class="wpd-comment-header">
    <div class="wpd-comment-author ">
    <a href="http://gmail.com/" rel="noreferrer ugc nofollow" target="_blank">Guddu</a>
</div>
    <div class="wpd-comment-date" title="May 11, 2022 9:27 pm">
    <i class="far fa-clock" aria-hidden="true"></i>
    3 months ago
</div>
    
    
    <div class="wpd-space"></div>
    <div class="wpd-comment-link wpd-hidden">
    <span wpd-tooltip="Comment Link" wpd-tooltip-position="left"><i class="fas fa-link" aria-hidden="true" data-wpd-clipboard="https://dronebotworkshop.com/interrupts/#comment-5278"></i></span>
</div>
</div>
    
    <div class="wpd-comment-text">
    <p>Thoroughly covered and clearly put across. Great presentation. Thank you.</p>

</div>
    <div class="wpd-comment-footer">
    <div class="wpd-vote">
    <div class="wpd-vote-up wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
    <div class="wpd-vote-result" title="0">0</div>
    <div class="wpd-vote-down wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
</div>
    <div class="wpd-reply-button">
    <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
    <span>Reply</span>
</div>
    <div class="wpd-space"></div>
    
    
</div>
</div>
</div><div id="wpdiscuz_form_anchor-5278_0"></div></div><div id="wpd-comm-5286_0" class="comment odd alt thread-odd thread-alt depth-1 wpd-comment wpd_comment_level-1"><div class="wpd-comment-wrap wpd-blog-guest">
    
    <div id="comment-5286" class="wpd-comment-right">
    <div class="wpd-comment-header">
    <div class="wpd-comment-author ">
    Dale Newbury (NewburyPi)
</div>
    <div class="wpd-comment-date" title="May 14, 2022 2:34 pm">
    <i class="far fa-clock" aria-hidden="true"></i>
    3 months ago
</div>
    
    
    <div class="wpd-space"></div>
    <div class="wpd-comment-link wpd-hidden">
    <span wpd-tooltip="Comment Link" wpd-tooltip-position="left"><i class="fas fa-link" aria-hidden="true" data-wpd-clipboard="https://dronebotworkshop.com/interrupts/#comment-5286"></i></span>
</div>
</div>
    
    <div class="wpd-comment-text">
    <p>As expected, a detailed and well explained description of the use
 of interrupts on the Arduino platform. You mention that delay() and 
millis() should not be used within an interrupt. While I agree with not 
using delay(), I have, successfully, used millis() in interrupt 
handlers. millis() simply reads a hardware timer register and returns a 
value in milliseconds, and does not “delay,” waiting for a register to 
change. I took the liberty of rewriting your Pin_Change sketch replacing
 the handler with: ISR (PCINT2_vect) {&nbsp;// only acknoledge interrupt
 if more that 200mS have passed &nbsp;if ( millis() - irq_timer &gt; 200<span id="wpdiscuz-readmore-5286_0"><span class="wpdiscuz-hellip">…&nbsp;</span><span class="wpdiscuz-readmore" title="Read more »">Read more »</span></span></p>
</div>
    <div class="wpd-comment-footer">
    <div class="wpd-vote">
    <div class="wpd-vote-up wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
    <div class="wpd-vote-result wpd-up" title="2">2</div>
    <div class="wpd-vote-down wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
</div>
    <div class="wpd-reply-button">
    <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
    <span>Reply</span>
</div>
    <div class="wpd-space"></div>
    
    
</div>
</div>
</div><div id="wpdiscuz_form_anchor-5286_0"></div></div><div id="wpd-comm-5309_0" class="comment even thread-even depth-1 wpd-comment wpd_comment_level-1"><div class="wpd-comment-wrap wpd-blog-guest">
    
    <div id="comment-5309" class="wpd-comment-right">
    <div class="wpd-comment-header">
    <div class="wpd-comment-author ">
    Kevin
</div>
    <div class="wpd-comment-date" title="May 22, 2022 6:20 am">
    <i class="far fa-clock" aria-hidden="true"></i>
    3 months ago
</div>
    
    
    <div class="wpd-space"></div>
    <div class="wpd-comment-link wpd-hidden">
    <span wpd-tooltip="Comment Link" wpd-tooltip-position="left"><i class="fas fa-link" aria-hidden="true" data-wpd-clipboard="https://dronebotworkshop.com/interrupts/#comment-5309"></i></span>
</div>
</div>
    
    <div class="wpd-comment-text">
    <p>I have found this information on interrupts very informative. 
Currently I am struggling with a project which involves an optical 
encoder and moving a gage, first at high speed and then at low speed to 
reach the required measurement. I think by trying out the suggestions I 
may be successful. Thank you for the clear explanation.</p>

</div>
    <div class="wpd-comment-footer">
    <div class="wpd-vote">
    <div class="wpd-vote-up wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
    <div class="wpd-vote-result" title="0">0</div>
    <div class="wpd-vote-down wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
</div>
    <div class="wpd-reply-button">
    <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
    <span>Reply</span>
</div>
    <div class="wpd-space"></div>
    
    
</div>
</div>
</div><div id="wpdiscuz_form_anchor-5309_0"></div></div><div id="wpd-comm-5405_0" class="comment odd alt thread-odd thread-alt depth-1 wpd-comment wpd_comment_level-1"><div class="wpd-comment-wrap wpd-blog-guest">
    
    <div id="comment-5405" class="wpd-comment-right">
    <div class="wpd-comment-header">
    <div class="wpd-comment-author ">
    Miltos
</div>
    <div class="wpd-comment-date" title="July 6, 2022 10:24 am">
    <i class="far fa-clock" aria-hidden="true"></i>
    2 months ago
</div>
    
    
    <div class="wpd-space"></div>
    <div class="wpd-comment-link wpd-hidden">
    <span wpd-tooltip="Comment Link" wpd-tooltip-position="left"><i class="fas fa-link" aria-hidden="true" data-wpd-clipboard="https://dronebotworkshop.com/interrupts/#comment-5405"></i></span>
</div>
</div>
    
    <div class="wpd-comment-text">
    <p>The best site for explaining arduino and not only !!!<br>
Congratulations Bill !!!</p>

</div>
    <div class="wpd-comment-footer">
    <div class="wpd-vote">
    <div class="wpd-vote-up wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="plus" class="svg-inline--fa fa-plus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
    <div class="wpd-vote-result" title="0">0</div>
    <div class="wpd-vote-down wpd_not_clicked">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="minus" class="svg-inline--fa fa-minus fa-w-14" role="img" xmlns="https://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"></path></svg>
    </div>
</div>
    <div class="wpd-reply-button">
    <svg xmlns="https://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg>
    <span>Reply</span>
</div>
    <div class="wpd-space"></div>
    
    
</div>
</div>
</div><div id="wpdiscuz_form_anchor-5405_0"></div></div><!-- // From wpDiscuz's Caches // -->                    <div class="wpdiscuz-comment-pagination">
                                            </div>
                </div>
            </div>
                </div>
        </div>
    <div id="wpdiscuz-loading-bar" class="wpdiscuz-loading-bar-unauth"></div>
    <div id="wpdiscuz-comment-message" class="wpdiscuz-comment-message-unauth"></div>
    
			
		</div><!-- #content -->
	</div><!-- #primary -->

	
<div id="secondary">
			
		<aside id="toc-widget-2" class="widget toc_widget"><h3 class="widget-title"><span>Table of Contents</span></h3><ul class="toc_widget_list no_bullets"><li><a href="#Introduction"><span class="toc_number toc_depth_1">1</span> Introduction</a><ul><li><a href="#How_Interrupts_Work"><span class="toc_number toc_depth_2">1.1</span> How Interrupts Work</a></li></ul></li><li><a href="#Arduino_Uno_Interrupts"><span class="toc_number toc_depth_1">2</span> Arduino Uno Interrupts</a><ul><li><a href="#Where_Interrupts_fit_in"><span class="toc_number toc_depth_2">2.1</span> Where Interrupts fit in</a></li><li><a href="#Interrupt_Service_Routines"><span class="toc_number toc_depth_2">2.2</span> Interrupt Service Routines</a></li></ul></li><li><a href="#Why_use_Interrupts"><span class="toc_number toc_depth_1">3</span> Why use Interrupts?</a><ul><li><a href="#Modifying_ie_Breaking_our_Sketch"><span class="toc_number toc_depth_2">3.1</span> Modifying (i.e. Breaking) our Sketch</a></li></ul></li><li><a href="#Hardware_Interrupts"><span class="toc_number toc_depth_1">4</span> Hardware Interrupts</a><ul><li><a href="#Arduino_Hardware_Interrupt_Pins"><span class="toc_number toc_depth_2">4.1</span> Arduino Hardware Interrupt Pins</a></li><li><a href="#Working_with_Hardware_Interrupts"><span class="toc_number toc_depth_2">4.2</span> Working with Hardware Interrupts</a><ul><li><a href="#attachInterrupt_Function"><span class="toc_number toc_depth_3">4.2.1</span> attachInterrupt Function</a></li><li><a href="#digitalPinToInterrupt_Function"><span class="toc_number toc_depth_3">4.2.2</span> digitalPinToInterrupt Function</a></li></ul></li><li><a href="#Rewriting_our_Sketch_for_Hardware_Interrupts"><span class="toc_number toc_depth_2">4.3</span> Rewriting our Sketch for Hardware Interrupts</a></li></ul></li><li><a href="#Pin_Change_Interrupts"><span class="toc_number toc_depth_1">5</span> Pin Change Interrupts</a><ul><li><a href="#Pin_Change_Ports"><span class="toc_number toc_depth_2">5.1</span> Pin Change Ports</a></li><li><a href="#Working_with_Pin_Change_Interrupts"><span class="toc_number toc_depth_2">5.2</span> Working with Pin Change Interrupts</a><ul><li><a href="#Select_the_Port"><span class="toc_number toc_depth_3">5.2.1</span> Select the Port</a></li><li><a href="#EnableDisable_the_Pins_on_the_Port"><span class="toc_number toc_depth_3">5.2.2</span> Enable/Disable the Pins on the Port</a></li><li><a href="#Interrupt_Service_Routine"><span class="toc_number toc_depth_3">5.2.3</span> Interrupt Service Routine</a></li></ul></li><li><a href="#Experimenting_with_Pin_Change_Interrupts"><span class="toc_number toc_depth_2">5.3</span> Experimenting with Pin Change Interrupts</a></li><li><a href="#Pin_Change_Interrupt_Example_1_8211_Simple_Interrupt"><span class="toc_number toc_depth_2">5.4</span> Pin Change Interrupt Example 1 – Simple Interrupt</a></li><li><a href="#Pin_Change_Interrupt_Example_2_8211_Multiple_Interrupts_on_the_Same_Port"><span class="toc_number toc_depth_2">5.5</span> Pin Change Interrupt Example 2 – Multiple Interrupts on the Same Port</a></li></ul></li><li><a href="#Timer_Interrupts"><span class="toc_number toc_depth_1">6</span> Timer Interrupts</a><ul><li><a href="#Arduino_Uno_Timers"><span class="toc_number toc_depth_2">6.1</span> Arduino Uno Timers</a></li><li><a href="#Dividing_the_Clock_Frequency"><span class="toc_number toc_depth_2">6.2</span> Dividing the Clock Frequency</a></li><li><a href="#Using_Timer_Interrupts"><span class="toc_number toc_depth_2">6.3</span> Using Timer Interrupts</a></li><li><a href="#Timer_Interrupt_Service_Routines"><span class="toc_number toc_depth_2">6.4</span> Timer Interrupt Service Routines</a></li><li><a href="#Simple_Timer_Example"><span class="toc_number toc_depth_2">6.5</span> Simple Timer Example</a></li></ul></li><li><a href="#Conclusion"><span class="toc_number toc_depth_1">7</span> Conclusion</a><ul><li><a href="#Resources"><span class="toc_number toc_depth_2">7.1</span> Resources</a></li></ul></li></ul></aside><aside id="custom_html-6" class="widget_text widget widget_custom_html"><h3 class="widget-title"><span>Welcome to the Newsletter!</span></h3><div class="textwidget custom-html-widget"><p>
	Let’s keep in touch!
</p>
<p>
Subscribe to the DroneBot Workshop Newsletter and be the first to find out about new projects and new features on the website.
</p>
<p>
No spam - just useful information and updates sent to you every once in a
 while.  I’d love to be a regular visitor to your Inbox!
</p>


<div align="center">
			<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/t0b6o7.js"></script>
<style>
    
        

    .ml-button-iframe {
        background-color: transparent !important;
        border: 0px none transparent !important;
        overflow: hidden !important;
        position: fixed !important;
        visibility: visible !important;
        margin: 0px !important;
        padding: 0px !important;
        left: 0px !important;
        top: 0px !important;
        width: 100% !important;
        height: 100% !important;
        z-index: 999999 !important;
        display: none;
    }

    #mlb2-8161476 button.ml-subscribe-button {

    
        
        cursor: pointer;
        font-family: Open Sans!important;
        font-size: 16px!important;
        height: 40px;
        width: auto;
                background: #1E73BE!important;
                background-color: #1E73BE!important;
        color: #ffffff!important;
        border: none;
        border-radius: 0px;
        padding: 0px 16px;

    

    }
    
    #mlb2-8161476 button.gradient-on {

    

            background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);
            background: -o-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);
            background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);
            background: linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);

    

    }
    
    #mlb2-8161476 button.gradient-on:hover {

    

            background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%);
            background: -o-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%);
            background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%);
            background: linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.3) 100%);

    

    }
    
    @media (max-width: 768px) {
      
      #mlb2-8161476 button.ml-subscribe-button {

      
          
          height:auto;
          line-height: 26px;
          padding: 5px 16px;
  
      
  
      }
      
    }
    
</style>


<link href="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/css.css" rel="stylesheet" type="text/css">

<form id="mlb2-8161476" action="https://landing.mailerlite.com/webforms/popup/t0b6o7" data-code="t0b6o7" data-id="806176" target="_blank">
    <div class="button-preview">
        <button type="submit" class="ml-subscribe-button">Subscribe Today!</button>
    </div>
</form>


		</div></div></aside><aside id="wtpsw-post-list-widget-4" class="widget wtpsw_post_list_widget"><h3 class="widget-title"><span>Popular Articles</span></h3>			<div class="wtpsw-post-items">
		    	<ul>
			        
<li class="wtpsw-post-li">
        <div class="wtpsw-post-thumb-left">
        <a href="https://dronebotworkshop.com/esp32-cam-intro/">
        <img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/ESP32-CAM.webp" class="attachment-100x100 size-100x100 wp-post-image" alt="ESP32-CAM" loading="lazy" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/ESP32-CAM_003.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/ESP32-CAM_002.webp 300w" sizes="(max-width: 100px) 100vw, 100px" width="100" height="56">        </a>
    </div>
    
    <div class="wtpsw-post-thumb-right">
        <h6> <a class="wtpsw-post-title" href="https://dronebotworkshop.com/esp32-cam-intro/">Getting started with the ESP32-CAM</a></h6>

                    <div class="wtpsw-date-post">May 24, 2020</div>
        
        <div class="wtpsw-post-stats">
            
            
            <span class="wtpsw-post-author">By <a href="https://dronebotworkshop.com/author/billjamshedji/">DroneBot Workshop</a></span> | <span class="wtpsw-post-comment">134 Comments</span>        </div>

                <div class="wtpsw-post-cnt">
            Today we will look at the amazing ESP32-CAM module from 
A-Thinker. This 10-dollar module features a 2MP camera, microSD card... 
       </div>
            </div>
</li>
<li class="wtpsw-post-li">
        <div class="wtpsw-post-thumb-left">
        <a href="https://dronebotworkshop.com/esp32-intro/">
        <img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/esp32-introduction.webp" class="attachment-100x100 size-100x100 wp-post-image" alt="ESP32 Introduction" loading="lazy" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/esp32-introduction_002.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/esp32-introduction_003.webp 300w" sizes="(max-width: 100px) 100vw, 100px" width="100" height="56">        </a>
    </div>
    
    <div class="wtpsw-post-thumb-right">
        <h6> <a class="wtpsw-post-title" href="https://dronebotworkshop.com/esp32-intro/">Getting started with ESP32</a></h6>

                    <div class="wtpsw-date-post">April 2, 2020</div>
        
        <div class="wtpsw-post-stats">
            
            
            <span class="wtpsw-post-author">By <a href="https://dronebotworkshop.com/author/billjamshedji/">DroneBot Workshop</a></span> | <span class="wtpsw-post-comment">84 Comments</span>        </div>

                <div class="wtpsw-post-cnt">
            Time to move up to another microcontroller, the ESP32. This 
amazing device has multiple I/O ports, WiFi, Bluetooth and BLE,...      
  </div>
            </div>
</li>
<li class="wtpsw-post-li">
        <div class="wtpsw-post-thumb-left">
        <a href="https://dronebotworkshop.com/stepper-motors-with-arduino/">
        <img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/Stepper-Motors-with-Arduino_002.webp" class="attachment-100x100 size-100x100 wp-post-image" alt="Stepper Motors with Arduino" loading="lazy" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/Stepper-Motors-with-Arduino_003.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/Stepper-Motors-with-Arduino.webp 300w" sizes="(max-width: 100px) 100vw, 100px" width="100" height="56">        </a>
    </div>
    
    <div class="wtpsw-post-thumb-right">
        <h6> <a class="wtpsw-post-title" href="https://dronebotworkshop.com/stepper-motors-with-arduino/">Stepper Motors with Arduino – Getting Started with Stepper Motors</a></h6>

                    <div class="wtpsw-date-post">February 10, 2018</div>
        
        <div class="wtpsw-post-stats">
            
            
            <span class="wtpsw-post-author">By <a href="https://dronebotworkshop.com/author/billjamshedji/">DroneBot Workshop</a></span> | <span class="wtpsw-post-comment">96 Comments</span>        </div>

                <div class="wtpsw-post-cnt">
            Stepper motors are used in a variety of devices ranging from
 3D printers and CNC machines to Blu Ray drives,...        </div>
            </div>
</li>
<li class="wtpsw-post-li">
        <div class="wtpsw-post-thumb-left">
        <a href="https://dronebotworkshop.com/dc-motors-l298n-h-bridge/">
        <img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/L298-Motor-Control-Module-Arduino-Potentiometers-e15049_003.webp" class="attachment-100x100 size-100x100 wp-post-image" alt="L298 Motor Control Module Arduino Potentiometers" loading="lazy" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/L298-Motor-Control-Module-Arduino-Potentiometers-e150497243.webp 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/L298-Motor-Control-Module-Arduino-Potentiometers-e15049_002.webp 300w" sizes="(max-width: 100px) 100vw, 100px" width="100" height="56">        </a>
    </div>
    
    <div class="wtpsw-post-thumb-right">
        <h6> <a class="wtpsw-post-title" href="https://dronebotworkshop.com/dc-motors-l298n-h-bridge/">Controlling DC Motors with the L298N Dual H-Bridge and an Arduino</a></h6>

                    <div class="wtpsw-date-post">March 11, 2017</div>
        
        <div class="wtpsw-post-stats">
            
            
            <span class="wtpsw-post-author">By <a href="https://dronebotworkshop.com/author/billjamshedji/">DroneBot Workshop</a></span> | <span class="wtpsw-post-comment">163 Comments</span>        </div>

                <div class="wtpsw-post-cnt">
            Controlling DC Motors is an essential skill for constructing
 robots and other hobby projects. An easy way to control DC...        </div>
            </div>
</li>
<li class="wtpsw-post-li">
        <div class="wtpsw-post-thumb-left">
        <a href="https://dronebotworkshop.com/433mhz-rf-modules-arduino/">
        <img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/433-Mhz-Modules-Arduino.webp" class="attachment-100x100 size-100x100 wp-post-image" alt="" loading="lazy" srcset="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/433-Mhz-Modules-Arduino.jpg 768w, Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/433-Mhz-Modules-Arduino_002.webp 300w" sizes="(max-width: 100px) 100vw, 100px" width="100" height="56">        </a>
    </div>
    
    <div class="wtpsw-post-thumb-right">
        <h6> <a class="wtpsw-post-title" href="https://dronebotworkshop.com/433mhz-rf-modules-arduino/">Using Inexpensive 433MHz Transmit and Receive Modules with Arduino</a></h6>

                    <div class="wtpsw-date-post">February 17, 2018</div>
        
        <div class="wtpsw-post-stats">
            
            
            <span class="wtpsw-post-author">By <a href="https://dronebotworkshop.com/author/billjamshedji/">DroneBot Workshop</a></span> | <span class="wtpsw-post-comment">50 Comments</span>        </div>

                <div class="wtpsw-post-cnt">
            Those inexpensive RF transmitter and receiver modules that 
you can get on eBay and Amazon are perfect when you need...        </div>
            </div>
</li>		   		</ul>
			</div>
		</aside>	</div>

	

		</div><!-- .inner-wrap -->
	</div><!-- #main -->	
			<footer id="colophon" class="clearfix">	
			<div class="footer-widgets-wrapper">
	<div class="inner-wrap">
		<div class="footer-widgets-area clearfix">
			<div class="tg-one-fourth tg-column-1">
				<aside id="nav_menu-3" class="widget widget_nav_menu"><h3 class="widget-title"><span>Projects</span></h3><div class="menu-dronebot-projects-container"><ul id="menu-dronebot-projects" class="menu"><li id="menu-item-621" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-621"><a href="http://dronebotworkshop.com/tag/arduino-project/">Arduino Projects</a></li>
<li id="menu-item-622" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-622"><a href="http://dronebotworkshop.com/tag/drone-project/">Drone Projects</a></li>
<li id="menu-item-623" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-623"><a href="http://dronebotworkshop.com/tag/electronics-projects/">Electronics Projects</a></li>
<li id="menu-item-624" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-624"><a href="http://dronebotworkshop.com/tag/iot-project/">Internet of Things Projects</a></li>
<li id="menu-item-625" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-625"><a href="http://dronebotworkshop.com/tag/raspberry-pi-project/">Raspberry Pi Projects</a></li>
<li id="menu-item-626" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-626"><a href="http://dronebotworkshop.com/tag/robot-project/">Robot Projects</a></li>
</ul></div></aside>			</div>
							<div class="tg-one-fourth tg-column-2">
					<aside id="block-6" class="widget widget_block"><h3 class="widget-title"><span>6-Wheel Rover</span></h3></aside><aside id="block-7" class="widget widget_block widget_recent_entries"><ul class="wp-block-latest-posts__list wp-block-latest-posts"><li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/6-wheel-rover-introduction/">6-Wheel Rover – Introduction</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/wild-thumper-chassis/">6-Wheel Rover – Rover Base  – Not wild about the Wild Thumper Chassis</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/robot-voltage-regulators/">6-Wheel Rover – Providing Power with Voltage Regulators</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/6-wheel-rover-11-4-volt-battery-connections/">6-Wheel Rover – 11.4-Volt Battery Connections</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/6-wheel-rover-escs-and-motor-wiring/">6-Wheel Rover – ESCs and Motor Wiring</a></li>
</ul></aside>				</div>
										<div class="tg-one-fourth tg-after-two-blocks-clearfix tg-column-3">
					<aside id="block-4" class="widget widget_block">
<div class="wp-container-1 wp-block-group"><div class="wp-block-group__inner-container">
<h3 class="widget-title"><span>What's New?</span></h3>
</div></div>
</aside><aside id="block-5" class="widget widget_block widget_recent_entries"><ul class="wp-block-latest-posts__list wp-block-latest-posts"><li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/picow-arduino/">Pico W with the Arduino IDE</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/dual-boot/">Building a Dual-Boot Workstation</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/linear-dc-power/">Designing and Building Linear DC Power Supplies</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/gc9a01/">Using GC9A01 Round LCD Modules</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/esp32-i2s/">Sound with ESP32 – I2S Protocol</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/interrupts/">Using Arduino Interrupts – Hardware, Pin Change and Timer</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/esp32-cam-microsd/">Using the ESP32-CAM MicroSD Card</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/led-displays/">LED Displays with Arduino</a></li>
<li><a class="wp-block-latest-posts__post-title" href="https://dronebotworkshop.com/esp-now/">ESP NOW – Peer to Peer ESP32 Communications</a></li>
</ul></aside>				</div>
										<div class="tg-one-fourth tg-one-fourth-last tg-column-4">
					<aside id="top-posts-3" class="widget widget_top-posts"><h3 class="widget-title"><span>What’s Popular</span></h3><ul><li><a href="https://dronebotworkshop.com/esp32-intro/" class="bump-view" data-bump-view="tp">Getting started with ESP32</a></li><li><a href="https://dronebotworkshop.com/esp32-cam-intro/" class="bump-view" data-bump-view="tp">Getting started with the ESP32-CAM</a></li><li><a href="https://dronebotworkshop.com/esp32-servo/" class="bump-view" data-bump-view="tp">Using Servo Motors with ESP32</a></li><li><a href="https://dronebotworkshop.com/wifimanager/" class="bump-view" data-bump-view="tp">ESP32 WiFiManager - Easy WiFi Provisioning</a></li><li><a href="https://dronebotworkshop.com/esp32-i2s/" class="bump-view" data-bump-view="tp">Sound with ESP32 - I2S Protocol</a></li><li><a href="https://dronebotworkshop.com/dc-volt-current/" class="bump-view" data-bump-view="tp">Measure DC Voltage and Current with an Arduino</a></li></ul></aside><aside id="wpcom_social_media_icons_widget-2" class="widget widget_wpcom_social_media_icons_widget"><h3 class="widget-title"><span>Workshop Connections</span></h3><ul><li><a href="https://www.facebook.com/dronebotworkshop/" class="genericon genericon-facebook" target="_blank"><span class="screen-reader-text">View dronebotworkshop’s profile on Facebook</span></a></li><li><a href="https://twitter.com/@DroneBotWS/" class="genericon genericon-twitter" target="_blank"><span class="screen-reader-text">View @DroneBotWS’s profile on Twitter</span></a></li><li><a href="https://github.com/DroneBotWorkshop/" class="genericon genericon-github" target="_blank"><span class="screen-reader-text">View DroneBotWorkshop’s profile on GitHub</span></a></li><li><a href="https://www.youtube.com/channel/UCzml9bXoEM0itbcE96CB03w/" class="genericon genericon-youtube" target="_blank"><span class="screen-reader-text">View UCzml9bXoEM0itbcE96CB03w’s profile on YouTube</span></a></li><li><a href="https://vimeo.com/dronebotworkshop/" class="genericon genericon-vimeo" target="_blank"><span class="screen-reader-text">View dronebotworkshop’s profile on Vimeo</span></a></li></ul></aside><aside id="text-7" class="widget widget_text">			<div class="textwidget"><p><a href="https://secure.comodo.com/ttb_searcher/trustlogo?v_querytype=W&amp;v_shortname=CL1&amp;v_search=http://dronebotworkshop.com/&amp;x=6&amp;y=5" target="_blank" rel="noopener"><img src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/comodo_secure_seal_113x59_transp.webp" width="113" height="59" border="0"></a></p>
</div>
		</aside>				</div>
					</div>
	</div>
</div>
	
			<div class="footer-socket-wrapper clearfix">
				<div class="inner-wrap">
					<div class="footer-socket-area">
						<div class="copyright">Copyright © 2022 <a href="https://dronebotworkshop.com/" title="DroneBot Workshop"><span>DroneBot Workshop</span></a>.</div>						<nav class="small-menu clearfix">
							<div class="menu-dronebot-bottom-container"><ul id="menu-dronebot-bottom" class="menu"><li id="menu-item-211" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-home menu-item-211"><a href="https://dronebotworkshop.com/">Home</a></li>
<li id="menu-item-535" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-535"><a href="https://dronebotworkshop.com/arduino-microcontroller/">Arduino</a></li>
<li id="menu-item-536" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-536"><a href="https://dronebotworkshop.com/raspberry-pi-microcomputer/">Raspberry Pi</a></li>
<li id="menu-item-634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-634"><a href="https://dronebotworkshop.com/drone-index/">Drones</a></li>
<li id="menu-item-637" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-637"><a href="https://dronebotworkshop.com/robots-index/">Robots</a></li>
<li id="menu-item-635" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-635"><a href="https://dronebotworkshop.com/electronics-index/">Electronics</a></li>
<li id="menu-item-636" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-636"><a href="https://dronebotworkshop.com/internet-of-things/">IoT</a></li>
<li id="menu-item-777" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-777"><a href="https://dronebotworkshop.com/reviews/">Reviews</a></li>
<li id="menu-item-778" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-778"><a href="https://dronebotworkshop.com/tutorials/">Tutorials</a></li>
<li id="menu-item-212" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-212"><a href="https://dronebotworkshop.com/about-dronebot-workshop/">About Us</a></li>
<li id="menu-item-213" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-213"><a href="https://dronebotworkshop.com/about-dronebot-workshop/contact-dronebot-workshop/">Contact Us</a></li>
<li id="menu-item-238" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-238"><a href="https://dronebotworkshop.com/about-dronebot-workshop/privacy-and-cookies/">Privacy and Cookies</a></li>
</ul></div>		    			</nav>
					</div>
				</div>
			</div>			
		</footer>
		<a href="#masthead" id="scroll-up" style="display: none;"></a>	
	</div><!-- #page -->
	<div id="wpd-bubble-wrapper" style="left: 30.6px; display: block;" class="wpd-left-content"><span id="wpd-bubble-all-comments-count" title="6">6</span><div id="wpd-bubble-count"><svg xmlns="https://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path class="wpd-bubble-count-first" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path><path class="wpd-bubble-count-second" d="M0 0h24v24H0z"></path></svg><span class="wpd-new-comments-count">0</span></div><div id="wpd-bubble"><svg xmlns="https://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path class="wpd-bubble-plus-first" d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path><path class="wpd-bubble-plus-second" d="M0 0h24v24H0z"></path></svg><div id="wpd-bubble-add-message">Would love your thoughts, please comment.<span id="wpd-bubble-add-message-close"><a href="#">x</a></span></div></div><div id="wpd-bubble-notification"><svg xmlns="https://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path class="wpd-bubble-notification-first" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path><path class="wpd-bubble-notification-second" d="M0 0h24v24H0z"></path></svg><div id="wpd-bubble-notification-message"><div id="wpd-bubble-author"><div><span id="wpd-bubble-author-avatar"></span><span id="wpd-bubble-author-name"></span><span id="wpd-bubble-comment-date">(<span class="wpd-bubble-spans"></span>)</span></div><span id="wpd-bubble-comment-close"><a href="#">x</a></span></div><div id="wpd-bubble-comment"><span id="wpd-bubble-comment-text"></span><span id="wpd-bubble-comment-reply-link">| <a href="#">Reply</a></span></div></div></div></div><div id="wpd-editor-source-code-wrapper-bg"></div><div id="wpd-editor-source-code-wrapper"><textarea id="wpd-editor-source-code"></textarea><button id="wpd-insert-source-code">Insert</button><input type="hidden" id="wpd-editor-uid"></div><div class="wppopups-whole" style="display: none"></div><style>.wp-container-1 > .alignleft { float: left; margin-inline-start: 0; margin-inline-end: 2em; }.wp-container-1 > .alignright { float: right; margin-inline-start: 2em; margin-inline-end: 0; }.wp-container-1 > .aligncenter { margin-left: auto !important; margin-right: auto !important; }</style>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/regenerator-runtime.min.js" defer="defer" onload="" id="regenerator-runtime-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wp-polyfill.min.js" defer="defer" onload="" id="wp-polyfill-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/hooks.min.js" defer="defer" onload="" id="wp-hooks-js"></script>
<script type="text/javascript" id="wppopups-js-extra">
/* <![CDATA[ */
var wppopups_vars = {"is_admin":"","ajax_url":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","pid":"8889","is_front_page":"","is_blog_page":"","is_category":"","site_url":"https:\/\/dronebotworkshop.com","is_archive":"","is_search":"","is_singular":"1","is_preview":"","facebook":"","twitter":"","val_required":"This field is required.","val_url":"Please enter a valid URL.","val_email":"Please enter a valid email address.","val_number":"Please enter a valid number.","val_checklimit":"You have exceeded the number of allowed selections: {#}.","val_limit_characters":"{count} of {limit} max characters.","val_limit_words":"{count} of {limit} max words."};
var wppopups_vars = {"is_admin":"","ajax_url":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","pid":"8889","is_front_page":"","is_blog_page":"","is_category":"","site_url":"https:\/\/dronebotworkshop.com","is_archive":"","is_search":"","is_singular":"1","is_preview":"","facebook":"","twitter":"","val_required":"This field is required.","val_url":"Please enter a valid URL.","val_email":"Please enter a valid email address.","val_number":"Please enter a valid number.","val_checklimit":"You have exceeded the number of allowed selections: {#}.","val_limit_characters":"{count} of {limit} max characters.","val_limit_words":"{count} of {limit} max words."};
/* ]]> */
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wppopups.js" defer="defer" onload="" id="wppopups-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/photon.min.js" defer="defer" onload="" id="jetpack-photon-js"></script>
<script type="text/javascript" id="toc-front-js-extra">
/* <![CDATA[ */
var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","width":"Auto"};
var tocplus = {"smooth_scroll":"1","visibility_show":"show","visibility_hide":"hide","width":"Auto"};
/* ]]> */
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/front.min.js" defer="defer" onload="" id="toc-front-js"></script>
<script type="text/javascript" id="wpdiscuz-combo-js-js-extra">
/* <![CDATA[ */
var wpdiscuzAjaxObj = {"wc_hide_replies_text":"Hide Replies","wc_show_replies_text":"View Replies","wc_msg_required_fields":"Please fill out required fields","wc_invalid_field":"Some of field value is invalid","wc_error_empty_text":"please fill out this field to comment","wc_error_url_text":"url is invalid","wc_error_email_text":"email address is invalid","wc_invalid_captcha":"Invalid Captcha Code","wc_login_to_vote":"You Must Be Logged In To Vote","wc_deny_voting_from_same_ip":"You are not allowed to vote for this comment","wc_self_vote":"You cannot vote for your comment","wc_vote_only_one_time":"You've already voted for this comment","wc_voting_error":"Voting Error","wc_comment_edit_not_possible":"Sorry, this comment is no longer possible to edit","wc_comment_not_updated":"Sorry, the comment was not updated","wc_comment_not_edited":"You've not made any changes","wc_msg_input_min_length":"Input is too short","wc_msg_input_max_length":"Input is too long","wc_spoiler_title":"Spoiler Title","wc_cannot_rate_again":"You cannot rate again","wc_not_allowed_to_rate":"You're not allowed to rate here","wc_follow_user":"Follow this user","wc_unfollow_user":"Unfollow this user","wc_follow_success":"You started following this comment author","wc_follow_canceled":"You stopped following this comment author.","wc_follow_email_confirm":"Please check your email and confirm the user following request.","wc_follow_email_confirm_fail":"Sorry, we couldn't send confirmation email.","wc_follow_login_to_follow":"Please login to follow users.","wc_follow_impossible":"We are sorry, but you can't follow this user.","wc_follow_not_added":"Following failed. Please try again later.","is_user_logged_in":"","commentListLoadType":"0","commentListUpdateType":"0","commentListUpdateTimer":"30","liveUpdateGuests":"0","wordpressThreadCommentsDepth":"5","wordpressIsPaginate":"","commentTextMaxLength":"0","replyTextMaxLength":"0","commentTextMinLength":"1","replyTextMinLength":"1","storeCommenterData":"100000","socialLoginAgreementCheckbox":"0","enableFbLogin":"0","fbUseOAuth2":"0","enableFbShare":"0","facebookAppID":"","facebookUseOAuth2":"0","enableGoogleLogin":"0","googleClientID":"","googleClientSecret":"","cookiehash":"18e355b1421272b4281f265caeb7ede9","isLoadOnlyParentComments":"0","scrollToComment":"1","commentFormView":"collapsed","enableDropAnimation":"0","isNativeAjaxEnabled":"1","enableBubble":"1","bubbleLiveUpdate":"0","bubbleHintTimeout":"45","bubbleHintHideTimeout":"10","cookieHideBubbleHint":"wpdiscuz_hide_bubble_hint","bubbleShowNewCommentMessage":"1","bubbleLocation":"content_left","firstLoadWithAjax":"0","wc_copied_to_clipboard":"Copied to clipboard!","inlineFeedbackAttractionType":"blink","loadRichEditor":"1","wpDiscuzReCaptchaSK":"","wpDiscuzReCaptchaTheme":"light","wpDiscuzReCaptchaVersion":"2.0","wc_captcha_show_for_guest":"0","wc_captcha_show_for_members":"0","wpDiscuzIsShowOnSubscribeForm":"0","wmuEnabled":"0","wmuInput":"wmu_files","wmuMaxFileCount":"1","wmuMaxFileSize":"2097152","wmuPostMaxSize":"10485760","wmuIsLightbox":"1","wmuMimeTypes":[],"wmuPhraseConfirmDelete":"Are you sure you want to delete this attachment?","wmuPhraseNotAllowedFile":"Not allowed file type","wmuPhraseMaxFileCount":"Maximum number of uploaded files is 1","wmuPhraseMaxFileSize":"Maximum upload file size is 2MB","wmuPhrasePostMaxSize":"Maximum post size is 10MB","wmuPhraseDoingUpload":"Uploading in progress! Please wait.","msgEmptyFile":"File is empty. Please upload something more substantial. This error could also be caused by uploads being disabled in your php.ini or by post_max_size being defined as smaller than upload_max_filesize in php.ini.","msgPostIdNotExists":"Post ID not exists","msgUploadingNotAllowed":"Sorry, uploading not allowed for this post","msgPermissionDenied":"You do not have sufficient permissions to perform this action","wmuKeyImages":"images","wmuSingleImageWidth":"auto","wmuSingleImageHeight":"200","version":"7.3.20","wc_post_id":"8889","isCookiesEnabled":"1","loadLastCommentId":"0","dataFilterCallbacks":[],"phraseFilters":[],"scrollSize":"32","is_email_field_required":"1","url":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","customAjaxUrl":"https:\/\/dronebotworkshop.com\/wp-content\/plugins\/wpdiscuz\/utils\/ajax\/wpdiscuz-ajax.php","bubbleUpdateUrl":"https:\/\/dronebotworkshop.com\/wp-json\/wpdiscuz\/v1\/update","restNonce":"caf94619ab","validateNonceForGuests":""};
var wpdiscuzUCObj = {"msgConfirmDeleteComment":"Are you sure you want to delete this comment?","msgConfirmCancelSubscription":"Are you sure you want to cancel this subscription?","msgConfirmCancelFollow":"Are you sure you want to cancel this follow?","additionalTab":"0"};
var wpdiscuzAjaxObj = {"wc_hide_replies_text":"Hide Replies","wc_show_replies_text":"View Replies","wc_msg_required_fields":"Please fill out required fields","wc_invalid_field":"Some of field value is invalid","wc_error_empty_text":"please fill out this field to comment","wc_error_url_text":"url is invalid","wc_error_email_text":"email address is invalid","wc_invalid_captcha":"Invalid Captcha Code","wc_login_to_vote":"You Must Be Logged In To Vote","wc_deny_voting_from_same_ip":"You are not allowed to vote for this comment","wc_self_vote":"You cannot vote for your comment","wc_vote_only_one_time":"You've already voted for this comment","wc_voting_error":"Voting Error","wc_comment_edit_not_possible":"Sorry, this comment is no longer possible to edit","wc_comment_not_updated":"Sorry, the comment was not updated","wc_comment_not_edited":"You've not made any changes","wc_msg_input_min_length":"Input is too short","wc_msg_input_max_length":"Input is too long","wc_spoiler_title":"Spoiler Title","wc_cannot_rate_again":"You cannot rate again","wc_not_allowed_to_rate":"You're not allowed to rate here","wc_follow_user":"Follow this user","wc_unfollow_user":"Unfollow this user","wc_follow_success":"You started following this comment author","wc_follow_canceled":"You stopped following this comment author.","wc_follow_email_confirm":"Please check your email and confirm the user following request.","wc_follow_email_confirm_fail":"Sorry, we couldn't send confirmation email.","wc_follow_login_to_follow":"Please login to follow users.","wc_follow_impossible":"We are sorry, but you can't follow this user.","wc_follow_not_added":"Following failed. Please try again later.","is_user_logged_in":"","commentListLoadType":"0","commentListUpdateType":"0","commentListUpdateTimer":"30","liveUpdateGuests":"0","wordpressThreadCommentsDepth":"5","wordpressIsPaginate":"","commentTextMaxLength":"0","replyTextMaxLength":"0","commentTextMinLength":"1","replyTextMinLength":"1","storeCommenterData":"100000","socialLoginAgreementCheckbox":"0","enableFbLogin":"0","fbUseOAuth2":"0","enableFbShare":"0","facebookAppID":"","facebookUseOAuth2":"0","enableGoogleLogin":"0","googleClientID":"","googleClientSecret":"","cookiehash":"18e355b1421272b4281f265caeb7ede9","isLoadOnlyParentComments":"0","scrollToComment":"1","commentFormView":"collapsed","enableDropAnimation":"0","isNativeAjaxEnabled":"1","enableBubble":"1","bubbleLiveUpdate":"0","bubbleHintTimeout":"45","bubbleHintHideTimeout":"10","cookieHideBubbleHint":"wpdiscuz_hide_bubble_hint","bubbleShowNewCommentMessage":"1","bubbleLocation":"content_left","firstLoadWithAjax":"0","wc_copied_to_clipboard":"Copied to clipboard!","inlineFeedbackAttractionType":"blink","loadRichEditor":"1","wpDiscuzReCaptchaSK":"","wpDiscuzReCaptchaTheme":"light","wpDiscuzReCaptchaVersion":"2.0","wc_captcha_show_for_guest":"0","wc_captcha_show_for_members":"0","wpDiscuzIsShowOnSubscribeForm":"0","wmuEnabled":"0","wmuInput":"wmu_files","wmuMaxFileCount":"1","wmuMaxFileSize":"2097152","wmuPostMaxSize":"10485760","wmuIsLightbox":"1","wmuMimeTypes":[],"wmuPhraseConfirmDelete":"Are you sure you want to delete this attachment?","wmuPhraseNotAllowedFile":"Not allowed file type","wmuPhraseMaxFileCount":"Maximum number of uploaded files is 1","wmuPhraseMaxFileSize":"Maximum upload file size is 2MB","wmuPhrasePostMaxSize":"Maximum post size is 10MB","wmuPhraseDoingUpload":"Uploading in progress! Please wait.","msgEmptyFile":"File is empty. Please upload something more substantial. This error could also be caused by uploads being disabled in your php.ini or by post_max_size being defined as smaller than upload_max_filesize in php.ini.","msgPostIdNotExists":"Post ID not exists","msgUploadingNotAllowed":"Sorry, uploading not allowed for this post","msgPermissionDenied":"You do not have sufficient permissions to perform this action","wmuKeyImages":"images","wmuSingleImageWidth":"auto","wmuSingleImageHeight":"200","version":"7.3.20","wc_post_id":"8889","isCookiesEnabled":"1","loadLastCommentId":"0","dataFilterCallbacks":[],"phraseFilters":[],"scrollSize":"32","is_email_field_required":"1","url":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","customAjaxUrl":"https:\/\/dronebotworkshop.com\/wp-content\/plugins\/wpdiscuz\/utils\/ajax\/wpdiscuz-ajax.php","bubbleUpdateUrl":"https:\/\/dronebotworkshop.com\/wp-json\/wpdiscuz\/v1\/update","restNonce":"caf94619ab","validateNonceForGuests":""};
var wpdiscuzUCObj = {"msgConfirmDeleteComment":"Are you sure you want to delete this comment?","msgConfirmCancelSubscription":"Are you sure you want to cancel this subscription?","msgConfirmCancelFollow":"Are you sure you want to cancel this follow?","additionalTab":"0"};
/* ]]> */
</script>
<script type="text/javascript" id="wpdiscuz-combo-js-js-before">
        var wpdiscuzEditorOptions = {
        modules: {
        toolbar: "",
        counter: {
        uniqueID: "",
        commentmaxcount : 0,
        replymaxcount : 0,
        commentmincount : 1,
        replymincount : 1,
        },
                },
        wc_be_the_first_text: "Be the First to Comment!",
        wc_comment_join_text: "Join the discussion",
        theme: 'snow',
        debug: 'error'
        };
        
        var wpdiscuzEditorOptions = {
        modules: {
        toolbar: "",
        counter: {
        uniqueID: "",
        commentmaxcount : 0,
        replymaxcount : 0,
        commentmincount : 1,
        replymincount : 1,
        },
                },
        wc_be_the_first_text: "Be the First to Comment!",
        wc_comment_join_text: "Join the discussion",
        theme: 'snow',
        debug: 'error'
        };
        
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wpdiscuz-combo.min.js" defer="defer" onload="" id="wpdiscuz-combo-js-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/comment-reply.min.js" defer="defer" onload="" id="comment-reply-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/navigation.js" defer="defer" onload="" id="spacious-navigation-js"></script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/skip-link-focus-fix.js" defer="defer" onload="" id="spacious-skip-link-focus-fix-js"></script>
<script type="text/javascript" id="wtpsw-public-script-js-extra">
/* <![CDATA[ */
var Wtpsw = {"ajaxurl":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","is_mobile":"0","is_rtl":"0","post_view_count":"8889"};
var Wtpsw = {"ajaxurl":"https:\/\/dronebotworkshop.com\/wp-admin\/admin-ajax.php","is_mobile":"0","is_rtl":"0","post_view_count":"8889"};
/* ]]> */
</script>
<script type="text/javascript" src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/wtpsw-public.js" defer="defer" onload="" id="wtpsw-public-script-js"></script>
<script src="Using%20Arduino%20Interrupts%20-%20Hardware,%20Pin%20Change%20and%20Timer_files/e-202236.js" defer="defer"></script>
<script>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:11.2',blog:'104535084',post:'8889',tz:'-4',srv:'dronebotworkshop.com'} ]);
	_stq.push([ 'clickTrackerInit', '104535084', '8889' ]);
</script>






<div id="cboxOverlay" style="display: none;"></div><div id="colorbox" class="" role="dialog" tabindex="-1" style="display: none;"><div id="cboxWrapper"><div><div id="cboxTopLeft" style="float: left;"></div><div id="cboxTopCenter" style="float: left;"></div><div id="cboxTopRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxMiddleLeft" style="float: left;"></div><div id="cboxContent" style="float: left;"><div id="cboxTitle" style="float: left;"></div><div id="cboxCurrent" style="float: left;"></div><button type="button" id="cboxPrevious"></button><button type="button" id="cboxNext"></button><button type="button" id="cboxSlideshow"></button><div id="cboxLoadingOverlay" style="float: left;"></div><div id="cboxLoadingGraphic" style="float: left;"></div></div><div id="cboxMiddleRight" style="float: left;"></div></div><div style="clear: left;"><div id="cboxBottomLeft" style="float: left;"></div><div id="cboxBottomCenter" style="float: left;"></div><div id="cboxBottomRight" style="float: left;"></div></div></div><div style="position: absolute; width: 9999px; visibility: hidden; display: none; max-width: none;"></div></div></body></html>
<!--
Performance optimized by Redis Object Cache. Learn more: https://wprediscache.com

Retrieved 6536 objects (2 MB) from Redis using PhpRedis (v5.3.7).
-->
<!-- Cache served by breeze CACHE - Last modified: Sat, 10 Sep 2022 18:33:11 GMT -->